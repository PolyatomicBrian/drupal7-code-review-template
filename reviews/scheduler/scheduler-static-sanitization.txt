Static Report for scheduler
Search type: sanitization
==================================================

/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 5
* Scheduler publishes and unpublishes nodes on dates specified by the user.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 8
// The default format to use if no custom format has been configured.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 8
// The default format to use if no custom format has been configured.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 11
// The default date and time formats to use when only a date has been entered.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 12
// These should match the date and time parts of SCHEDULER_DATE_FORMAT above.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 16
// The default time that will be used, until Admin sets a different value.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 19
// The full set of date and time letters allowed in the scheduler date format.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 24
* Implements hook_permission().


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 26
function scheduler_permission() {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 27
return array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 28
'administer scheduler' => array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 28
'administer scheduler' => array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 29
'title' => t('Administer scheduler'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 29
'title' => t('Administer scheduler'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 30
'description' => t('Configure scheduler date formats, pop-up calendar, default times, lightweight cron'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 33
'title' => t('Schedule content publication'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 34
'description' => t('Allows users to set a start and end time for content publication'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 34
'description' => t('Allows users to set a start and end time for content publication'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 36
'view scheduled content' => array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 37
'title' => t('View scheduled content list'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 37
'title' => t('View scheduled content list'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 38
'description' => t('Allows users to see all content which is scheduled.'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 44
* Implements hook_menu().


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 46
function scheduler_menu() {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 47
$items = array();


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 48
$items['scheduler/cron'] = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 49
'title' => 'Lightweight cron handler',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 50
'description' => 'Run the lightweight cron process',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 53
'access arguments' => array(2),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 54
'type' => MENU_CALLBACK,


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 57
// Redirect the legacy URL 'scheduler/timecheck' to the new admin tab


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 58
// 'admin/config/content/scheduler/timecheck'.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 59
$items['scheduler/timecheck'] = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 60
'page callback' => 'drupal_goto',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 61
'page arguments' => array('admin/config/content/scheduler/timecheck'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 62
'access arguments' => array('administer scheduler'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 62
'access arguments' => array('administer scheduler'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 63
'type' => MENU_CALLBACK,


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 65
$items['admin/config/content/scheduler'] = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 66
'title' => 'Scheduler',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 67
'description' => "Configure settings for scheduled publishing and unpublishing, run the lightweight cron and check your servers clock time.",


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 68
'page callback' => 'drupal_get_form',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 69
'page arguments' => array('scheduler_admin'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 70
'access arguments' => array('administer scheduler'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 70
'access arguments' => array('administer scheduler'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 71
'type' => MENU_NORMAL_ITEM,


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 74
$items['admin/config/content/scheduler/default'] = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 75
'title' => 'Settings',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 76
'type' => MENU_DEFAULT_LOCAL_TASK,


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 77
'weight' => 5,


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 79
$items['admin/config/content/scheduler/cron'] = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 80
'title' => 'Lightweight Cron',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 81
'description' => 'A lightweight cron handler to allow more frequent runs of Schedulers internal cron system.',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 81
'description' => 'A lightweight cron handler to allow more frequent runs of Schedulers internal cron system.',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 82
'page callback' => 'drupal_get_form',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 83
'page arguments' => array('_scheduler_lightweight_cron'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 84
'access arguments' => array('administer scheduler'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 84
'access arguments' => array('administer scheduler'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 85
'type' => MENU_LOCAL_TASK,


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 86
'weight' => 10,


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 89
$items['admin/config/content/scheduler/timecheck'] = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 90
'title' => 'Time Check',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 91
'description' => 'Allows site admin to check their servers internal clock',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 92
'page callback' => '_scheduler_timecheck',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 93
'access arguments' => array('administer scheduler'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 93
'access arguments' => array('administer scheduler'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 94
'type' => MENU_LOCAL_TASK,


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 95
'weight' => 15,


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 98
$items['admin/content/scheduler'] = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 99
'title' => 'Scheduled',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 100
'page callback' => 'scheduler_list',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 100
'page callback' => 'scheduler_list',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 101
'page arguments' => array(NULL, NULL),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 102
'access callback' => 'scheduler_list_access_callback',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 102
'access callback' => 'scheduler_list_access_callback',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 103
'access arguments' => array(NULL),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 104
'description' => 'Display a list of scheduled nodes',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 104
'description' => 'Display a list of scheduled nodes',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 105
'type' => MENU_LOCAL_TASK,


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 108
// Reuse the above definition in the scheduler admin page.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 109
$items['admin/config/content/scheduler/list'] = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 109
$items['admin/config/content/scheduler/list'] = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 110
'title' => 'Scheduled Content',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 111
'weight' => 20,


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 112
) + $items['admin/content/scheduler'];


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 114
// Menu callback for confirmation before manually deleting obsolete rows from


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 115
// the Scheduler table. Cannot use normal node delete link because these rows


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 116
// no longer exist in the {node} table.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 116
// no longer exist in the {node} table.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 117
$items['admin/content/scheduler/delete/%'] = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 118
'title' => 'Delete Scheduled Data',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 119
'description' => 'Delete obsolete rows from Scheduler table',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 120
'page callback' => 'drupal_get_form',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 121
'page arguments' => array('_scheduler_delete_row_confirm', 4),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 122
'access arguments' => array('administer scheduler'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 122
'access arguments' => array('administer scheduler'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 123
'type' => MENU_CALLBACK,


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 126
$items['user/%/scheduler'] = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 127
'title' => 'Scheduled',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 128
'page callback' => 'scheduler_list',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 128
'page callback' => 'scheduler_list',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 129
// This will pass the uid of the user account being viewed.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 130
'page arguments' => array('user_only', 1),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 131
'access callback' => 'scheduler_list_access_callback',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 131
'access callback' => 'scheduler_list_access_callback',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 132
'access arguments' => array(1),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 133
'description' => 'Display a list of scheduled nodes',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 133
'description' => 'Display a list of scheduled nodes',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 134
'type' => MENU_LOCAL_TASK,


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 137
return $items;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 141
* Return the users access to the scheduler list page.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 141
* Return the users access to the scheduler list page.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 143
* Separate function required because of the two access values to be checked.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 145
* @param int $uid


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 146
*   The user ID of the user of which the scheduled nodes will be listed. Omit


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 146
*   The user ID of the user of which the scheduled nodes will be listed. Omit


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 147
*   this when listing the nodes of all users.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 147
*   this when listing the nodes of all users.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 149
function scheduler_list_access_callback($uid = NULL) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 149
function scheduler_list_access_callback($uid = NULL) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 152
// All Scheduler users can see their own scheduled content via their user


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 153
// page. In addition, if they have 'view scheduled content' permission they


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 154
// will be able to see all scheduled content by all authors.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 155
return user_access('view scheduled content') || ($uid == $user->uid && user_access('schedule publishing of nodes'));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 159
* Implements hook_help().


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 161
function scheduler_help($section) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 162
$output = '';


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 163
switch ($section) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 164
case 'admin/config/content/scheduler':


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 165
$output = '<p>' . t('Some Scheduler options are set for each different content type, and are accessed via the <a href="@link">admin content type</a> list.', array('@link' => url('admin/structure/types'))) . '</br>';


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 165
$output = '<p>' . t('Some Scheduler options are set for each different content type, and are accessed via the <a href="@link">admin content type</a> list.', array('@link' => url('admin/structure/types'))) . '</br>';


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 166
$output .= t('The options and settings below are common to all content types.') . '</p>';


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 169
case 'admin/config/content/scheduler/cron':


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 171
$access_key = variable_get('scheduler_lightweight_access_key', '');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 173
$output = '<p>' . t("When you have set up Drupal's standard crontab job cron.php then Scheduler will be executed during each cron run. However, if you would like finer granularity to scheduler, but don't want to run Drupal's cron more often then you can use the lightweight cron handler provided by Scheduler. This is an independent cron job which only runs the scheduler process and does not execute any cron tasks defined by Drupal core or any other modules.") . '</p>';


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 173
$output = '<p>' . t("When you have set up Drupal's standard crontab job cron.php then Scheduler will be executed during each cron run. However, if you would like finer granularity to scheduler, but don't want to run Drupal's cron more often then you can use the lightweight cron handler provided by Scheduler. This is an independent cron job which only runs the scheduler process and does not execute any cron tasks defined by Drupal core or any other modules.") . '</p>';


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 174
$output .= '<p>' . t("Scheduler's cron is at /scheduler/cron and a sample crontab entry to run scheduler every minute might look like:") . '</p>';


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 175
$output .= '<code>* * * * * wget -q -O /dev/null "' . $cron_url . '"</code>';


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 176
$output .= '<p>' . t('or') . '</p>';


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 177
$output .= '<code>* * * * * curl -s -o /dev/null "' . $cron_url . '"</code><br/><br/>';


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 181
// This is shown at the top of admin/help/scheduler.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 182
$output = '<h3>' . t('About') . '</h3>';


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 183
$output .= '<p>' . t('The Scheduler module provides the functionality for automatic publishing and unpublishing of nodes at specified future dates.') . '</p>';


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 184
$output .= '<p>' . t('You can read more in the <a href="@readme">readme.txt</a> file.', array('@readme' => $GLOBALS['base_url'] . '/' . drupal_get_path('module', 'scheduler') . '/README.txt')) . '</p>';


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 187
default:


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 189
return $output;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 193
* Returns whether we use the date_popup for date/time selection.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 195
* @return bool


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 196
*   TRUE if we are using date_popup. FALSE otherwise.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 198
function _scheduler_use_date_popup() {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 199
return module_exists('date_popup') && variable_get('scheduler_field_type', 'date_popup') == 'date_popup';


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 199
return module_exists('date_popup') && variable_get('scheduler_field_type', 'date_popup') == 'date_popup';


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 203
* Implements hook_form_node_type_form_alter().


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 205
function scheduler_form_node_type_form_alter(&$form, $form_state) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 205
function scheduler_form_node_type_form_alter(&$form, $form_state) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 206
// Load the real code only when needed.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 208
_scheduler_form_node_type_form_alter($form, $form_state);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 208
_scheduler_form_node_type_form_alter($form, $form_state);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 212
* Implements hook_form_alter().


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 214
function scheduler_form_alter(&$form, $form_state) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 214
function scheduler_form_alter(&$form, $form_state) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 215
// Load the real code only when needed. First check if this a node form and


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 215
// Load the real code only when needed. First check if this a node form and


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 216
// that the user has permission to use Scheduler.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 217
if (!empty($form['#node_edit_form']) && user_access('schedule publishing of nodes')) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 218
// Check if scheduling has been enabled for this node type.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 219
$publishing_enabled = variable_get('scheduler_publish_enable_' . $form['type']['#value'], 0) == 1;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 220
$unpublishing_enabled = variable_get('scheduler_unpublish_enable_' . $form['type']['#value'], 0) == 1;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 222
module_load_include('inc', 'scheduler', 'scheduler.edit');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 223
_scheduler_form_alter($form, $form_state);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 223
_scheduler_form_alter($form, $form_state);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 229
* Checks whether a scheduled action on a node is allowed.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 231
* This provides a way for other modules to prevent scheduled publishing or


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 232
* unpublishing, by implementing hook_scheduler_allow_publishing() or


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 238
* @param stdClass $node


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 238
* @param stdClass $node


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 239
*   The node object on which the action is to be performed.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 240
* @param string $action


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 240
* @param string $action


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 241
*   The action that needs to be checked. Can be 'publish' or 'unpublish'.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 243
* @return bool


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 244
*   TRUE if the action is allowed, FALSE if not.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 246
function _scheduler_allow($node, $action) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 247
// Default to TRUE.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 248
$result = TRUE;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 249
// Check that other modules allow the action.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 250
$hook = 'scheduler_allow_' . $action . 'ing';


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 251
foreach (module_implements($hook) as $module) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 252
$function = $module . '_' . $hook;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 253
$result &= $function($node);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 256
return $result;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 260
* Converts a time string from the user's timezone into a Unix timestamp.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 260
* Converts a time string from the user's timezone into a Unix timestamp.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 262
* This expects the time string to be in the date format configured by the user.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 262
* This expects the time string to be in the date format configured by the user.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 264
* @param string $str


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 264
* @param string $str


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 265
*   A string containing a time in the user configured date format.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 265
*   A string containing a time in the user configured date format.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 267
* @return int


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 268
*   The time in Unix timestamp representation (UTC). NULL if the given time


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 268
*   The time in Unix timestamp representation (UTC). NULL if the given time


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 269
*   string is empty (NULL, FALSE, an empty string or only containing


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 269
*   string is empty (NULL, FALSE, an empty string or only containing


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 270
*   whitespace). FALSE if the given time string is malformed.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 270
*   whitespace). FALSE if the given time string is malformed.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 272
function _scheduler_strtotime($str) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 272
function _scheduler_strtotime($str) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 273
if ($str && trim($str) != "") {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 273
if ($str && trim($str) != "") {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 274
$date_format = variable_get('scheduler_date_format', SCHEDULER_DATE_FORMAT);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 275
$date_only_format = variable_get('scheduler_date_only_format', SCHEDULER_DATE_ONLY_FORMAT);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 277
if (_scheduler_use_date_popup()) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 278
// Date Popup currently returns the value into the $node using its default


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 279
// format DATE_FORMAT_DATETIME but reduced to the same granularity as the


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 280
// requested format. Until date issue http://drupal.org/node/1855810 is


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 280
// requested format. Until date issue http://drupal.org/node/1855810 is


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 281
// resolved we can use the date_popup functions date_format_order() and


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 282
// date_limit_format() to derive the format of the returned string value.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 282
// date_limit_format() to derive the format of the returned string value.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 283
$granularity = date_format_order($date_format);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 284
$date_format = date_limit_format(DATE_FORMAT_DATETIME, $granularity);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 285
$date_only_format = date_limit_format(DATE_FORMAT_DATETIME, array('day', 'month', 'year'));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 287
$str = trim(preg_replace('/\s+/', ' ', $str));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 287
$str = trim(preg_replace('/\s+/', ' ', $str));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 288
$time = _scheduler_strptime($str, $date_format);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 288
$time = _scheduler_strptime($str, $date_format);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 290
// If the time failed using the full $date_format or no time entry is


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 291
// allowed, but date-only with a default time is enabled, check if the input


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 292
// matches the "date only" date format.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 293
$time_only_format = variable_get('scheduler_time_only_format', SCHEDULER_TIME_ONLY_FORMAT);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 294
if ((!$time || $time_only_format == '') && variable_get('scheduler_allow_date_only', FALSE)) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 295
if ($time = _scheduler_strptime($str, $date_only_format)) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 295
if ($time = _scheduler_strptime($str, $date_only_format)) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 296
// A time has been calculated, but also check that there was only a


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 297
// date entered and no extra mal-formed time elements.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 298
if ($str == date($date_only_format, $time)) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 298
if ($str == date($date_only_format, $time)) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 299
// Parse the default time string into elements, then add the total


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 299
// Parse the default time string into elements, then add the total


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 300
// offset in seconds to the timestamp.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 300
// offset in seconds to the timestamp.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 301
$default_time = date_parse(variable_get('scheduler_default_time', SCHEDULER_DEFAULT_TIME));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 302
$time_offset = ($default_time['hour'] * 3600) + ($default_time['minute'] * 60) + $default_time['second'];


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 303
$time += $time_offset;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 306
// The date was not the only text entered, so reject it.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 307
$time = FALSE;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 313
// $str is empty.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 313
// $str is empty.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 314
$time = NULL;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 317
return $time;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 321
* Parse a time/date as UTC time.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 323
* The php function strptime() has a limited life, due to it returning varying


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 323
* The php function strptime() has a limited life, due to it returning varying


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 324
* results on different operating systems. It is not supported on Windows


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 324
* results on different operating systems. It is not supported on Windows


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 325
* platforms at all. The replacement function date_parse_from_format() is not


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 326
* as flexible as strptime(), for example it forces two-digit minutes and


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 326
* as flexible as strptime(), for example it forces two-digit minutes and


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 327
* seconds. _scheduler_strptime() gives us more control over the entities that


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 327
* seconds. _scheduler_strptime() gives us more control over the entities that


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 328
* are parsed and how the matching is achieved.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 330
* @param string $date


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 330
* @param string $date


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 331
*   The string to parse.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 331
*   The string to parse.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 332
* @param string $format


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 332
* @param string $format


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 333
*   The date format used in $date. For details on the date format options, see


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 334
*   the PHP date() function.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 336
* @return int


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 337
*   The parsed time converted to a UTC timestamp using mktime().


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 337
*   The parsed time converted to a UTC timestamp using mktime().


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 339
function _scheduler_strptime($date, $format) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 339
function _scheduler_strptime($date, $format) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 340
// Build a regex pattern for each element allowed in the date and time format.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 341
$date_entities_and_replacements = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 342
// Date elements, one for each character in SCHEDULER_DATE_LETTERS.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 343
'd' => '(\d{2})',      // Day of the month with leading zero.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 344
'j' => '(\d{1,2})',    // Day of the month without leading zero.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 345
'm' => '(\d{2})',      // Month number with leading zero.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 346
'n' => '(\d{1,2})',    // Month number without leading zero.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 347
'M' => '(\w{3})',      // Three-letter month abbreviation.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 348
'F' => '(\w{3,9})',    // Full month name, from 3 to 9 letters.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 349
'y' => '(\d{2})',      // Two-digit year.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 350
'Y' => '(\d{4})',      // Four-digit year.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 352
// Time elements, one for each character in SCHEDULER_TIME_LETTERS.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 353
'h' => '(\d{2})',      // Hours in 12-hour format with leading zero.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 354
'H' => '(\d{2})',      // Hours in 24-hour format with leading zero.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 355
'g' => '(\d{1,2})',    // Hours in 12-hour format without leading zero.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 356
'G' => '(\d{1,2})',    // Hours in 24-hour format without leading zero.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 357
'i' => '(\d{2})',      // Minutes with leading zero.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 358
's' => '(\d{2})',      // Seconds with leading zero.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 362
$date_entities = array_keys($date_entities_and_replacements);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 363
$date_regex_replacements = array_values($date_entities_and_replacements);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 364
$custom_pattern = str_replace($date_entities, $date_regex_replacements, $format);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 364
$custom_pattern = str_replace($date_entities, $date_regex_replacements, $format);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 365
if (!preg_match("#$custom_pattern#", $date, $value_matches)) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 365
if (!preg_match("#$custom_pattern#", $date, $value_matches)) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 366
return FALSE;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 369
if (!preg_match_all('/(\w)/', $format, $entity_matches)) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 370
return FALSE;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 373
$results = array('day' => 0, 'month' => 0, 'year' => 0, 'hour' => 0, 'minute' => 0, 'second' => 0, 'meridiem' => NULL);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 375
foreach ($entity_matches[1] as $entity) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 376
$value = intval($value_matches[$index]);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 377
switch ($entity) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 380
$results['day'] = $value;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 385
$results['month'] = $value;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 390
// Derive a time value from the matched month name text.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 391
$temp_time = strtotime($value_matches[$index]);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 391
$temp_time = strtotime($value_matches[$index]);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 392
if (empty($temp_time)) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 393
// If the text is not a valid month name or abbreviation then fail.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 394
return FALSE;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 396
// Derive the month number from the month name.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 397
$results['month'] = date('n', $temp_time);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 402
$results['year'] = $value;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 409
$results['hour'] = $value;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 413
$results['minute'] = $value;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 417
$results['second'] = $value;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 422
$results['meridiem'] = $value_matches[$index];


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 428
if ((strncasecmp($results['meridiem'], "pm", 2) == 0) && ($results['hour'] < 12)) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 428
if ((strncasecmp($results['meridiem'], "pm", 2) == 0) && ($results['hour'] < 12)) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 429
$results['hour'] += 12;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 431
if ((strncasecmp($results['meridiem'], "am", 2) == 0) && ($results['hour'] == 12)) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 431
if ((strncasecmp($results['meridiem'], "am", 2) == 0) && ($results['hour'] == 12)) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 432
$results['hour'] -= 12;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 435
$time = mktime($results['hour'], $results['minute'], $results['second'], $results['month'], $results['day'], $results['year']);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 436
return $time;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 440
* Implements hook_node_load().


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 442
function scheduler_node_load($nodes, $types) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 444
$result = db_query('SELECT * FROM {scheduler} WHERE nid IN (:nids)', array(':nids' => $nids));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 445
foreach ($result as $record) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 450
// @todo This seems unneeded and is confusing. It is not certain that this


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 451
//   node is either published or unpublished, probably it isn't or the


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 452
//   'publish_on' property wouldn't be set in the first place. Remove this


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 452
//   'publish_on' property wouldn't be set in the first place. Remove this


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 453
//   for the D8 version.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 454
$row['published'] = $record->publish_on ? date(variable_get('date_format_long', 'l, F j, Y - H:i'), $record->publish_on) : NULL;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 455
$row['unpublished'] = $record->unpublish_on ? date(variable_get('date_format_long', 'l, F j, Y - H:i'), $record->unpublish_on) : NULL;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 456
// Add duplicates of the scheduling properties on $node->scheduler for


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 457
// backwards compatibility with the D5 and D6 versions of Scheduler. Please


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 458
// do not rely on these properties in new code, access them directly on


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 459
// $node->publish_on and $node->unpublish_on instead.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 459
// $node->publish_on and $node->unpublish_on instead.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 460
// @todo Remove this for the D8 version.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 468
* Implements hook_node_view().


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 470
function scheduler_node_view($node, $view_mode = 'full', $langcode) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 471
// If the node is going to be unpublished, then add this information to the


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 472
// header for search engines. Only do this when the current page is the


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 473
// full-page view of the node.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 474
// @see https://googleblog.blogspot.be/2007/07/robots-exclusion-protocol-now-with-even.html


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 475
if ($view_mode == 'full' && !empty($node->unpublish_on) && node_is_page($node) && arg(2) != 'edit') {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 476
drupal_add_http_header('X-Robots-Tag', 'unavailable_after: ' . date(DATE_RFC850, $node->unpublish_on));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 481
* Implements hook_node_validate().


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 483
function scheduler_node_validate($node, $form, &$form_state) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 483
function scheduler_node_validate($node, $form, &$form_state) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 484
// Skip all validation when deleting the node. To check if the delete button


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 485
// was clicked search for 'node_form_delete_submit' in the triggering_element


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 486
// #submit array. This is better than checking for the text 'Delete'.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 487
// Use !== FALSE because the key returned will be 0.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 488
// @see https://www.drupal.org/node/2723929


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 489
if (!empty($form_state['triggering_element']['#submit']) && array_search('node_form_delete_submit', $form_state['triggering_element']['#submit']) !== FALSE) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 489
if (!empty($form_state['triggering_element']['#submit']) && array_search('node_form_delete_submit', $form_state['triggering_element']['#submit']) !== FALSE) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 490
if ($errors = form_get_errors()) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 491
// If there are already errors (from date_popup) remove them to allow


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 492
// deletion to proceed.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 494
unset($_SESSION['messages']['error']);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 496
return;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 499
// Adjust the entered times for timezone consideration. Note, we must check


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 499
// Adjust the entered times for timezone consideration. Note, we must check


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 500
// to see if the value is numeric. If it is, assume we have already done the


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 501
// strtotime conversion. This prevents us running strtotime on a value we have


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 501
// strtotime conversion. This prevents us running strtotime on a value we have


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 502
// already converted. This is needed because Drupal 6 removed 'submit' and


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 503
// added 'presave' and all this happens at different times. If the value is


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 504
// passed as an array this means we are using the Date Popup module and a


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 505
// validation error has occurred. In this case we should skip validation as


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 506
// it is being handled by Date Popup.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 508
$date_format = variable_get('scheduler_date_format', SCHEDULER_DATE_FORMAT);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 510
if (!empty($node->publish_on) && !is_numeric($node->publish_on) && !is_array($node->publish_on)) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 511
$publishtime = _scheduler_strtotime($node->publish_on);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 511
$publishtime = _scheduler_strtotime($node->publish_on);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 512
if ($publishtime === FALSE) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 513
form_set_error('publish_on', t("The 'publish on' value does not match the expected format of %time", array('%time' => format_date(REQUEST_TIME, 'custom', $date_format))));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 513
form_set_error('publish_on', t("The 'publish on' value does not match the expected format of %time", array('%time' => format_date(REQUEST_TIME, 'custom', $date_format))));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 515
elseif ($publishtime && variable_get('scheduler_publish_past_date_' . $node->type, 'error') == 'error' && $publishtime < REQUEST_TIME) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 515
elseif ($publishtime && variable_get('scheduler_publish_past_date_' . $node->type, 'error') == 'error' && $publishtime < REQUEST_TIME) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 516
form_set_error('publish_on', t("The 'publish on' date must be in the future"));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 516
form_set_error('publish_on', t("The 'publish on' date must be in the future"));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 520
if (!empty($node->unpublish_on) && !is_numeric($node->unpublish_on) && !is_array($node->unpublish_on)) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 521
$unpublishtime = _scheduler_strtotime($node->unpublish_on);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 521
$unpublishtime = _scheduler_strtotime($node->unpublish_on);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 522
if ($unpublishtime === FALSE) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 523
form_set_error('unpublish_on', t("The 'unpublish on' value does not match the expected format of %time", array('%time' => format_date(REQUEST_TIME, 'custom', $date_format))));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 523
form_set_error('unpublish_on', t("The 'unpublish on' value does not match the expected format of %time", array('%time' => format_date(REQUEST_TIME, 'custom', $date_format))));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 525
elseif ($unpublishtime && $unpublishtime < REQUEST_TIME) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 526
form_set_error('unpublish_on', t("The 'unpublish on' date must be in the future"));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 526
form_set_error('unpublish_on', t("The 'unpublish on' date must be in the future"));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 530
if (isset($publishtime) && isset($unpublishtime) && $unpublishtime < $publishtime) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 531
form_set_error('unpublish_on', t("The 'unpublish on' date must be later than the 'publish on' date."));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 531
form_set_error('unpublish_on', t("The 'unpublish on' date must be later than the 'publish on' date."));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 534
// The unpublish-on 'required' form attribute may not be set, but in some


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 535
// cases a value must still be entered.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 535
// cases a value must still be entered.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 536
if (variable_get('scheduler_unpublish_required_' . $node->type) && empty($node->unpublish_on)) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 537
// ... when also setting a publish-on date.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 538
if (!empty($node->publish_on)) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 539
form_set_error('unpublish_on', t("If you set a 'publish-on' date then you must also set an 'unpublish-on' date."));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 539
form_set_error('unpublish_on', t("If you set a 'publish-on' date then you must also set an 'unpublish-on' date."));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 541
// ... or when publishing by directly ticking the published checkbox.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 542
if ($form_state['values']['status']) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 542
if ($form_state['values']['status']) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 543
form_set_error('unpublish_on', t("To publish this node you must also set an 'unpublish-on' date."));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 543
form_set_error('unpublish_on', t("To publish this node you must also set an 'unpublish-on' date."));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 549
* Implements hook_node_presave().


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 551
function scheduler_node_presave($node) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 553
if (empty($node->$key) || is_array($node->$key)) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 554
// Make sure publish_on and unpublish_on are not empty strings.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 554
// Make sure publish_on and unpublish_on are not empty strings.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 558
// Convert to unix timestamp, but ensure any failure is converted to zero.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 558
// Convert to unix timestamp, but ensure any failure is converted to zero.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 559
$node->$key = _scheduler_strtotime($node->$key) + 0;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 559
$node->$key = _scheduler_strtotime($node->$key) + 0;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 564
// Check that other modules allow the action on this node.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 565
$publication_allowed = _scheduler_allow($node, 'publish');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 567
// Publish the node immediately if the publication date is in the past.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 567
// Publish the node immediately if the publication date is in the past.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 568
$publish_immediately = variable_get('scheduler_publish_past_date_' . $node->type, 'error') == 'publish';


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 568
$publish_immediately = variable_get('scheduler_publish_past_date_' . $node->type, 'error') == 'publish';


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 569
if ($publication_allowed && $publish_immediately && $node->publish_on <= REQUEST_TIME) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 570
// If required, set the created date to match published date.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 571
if (variable_get('scheduler_publish_touch_' . $node->type, 0) == 1) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 572
$node->created = $node->publish_on;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 575
$node->status = 1;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 575
$node->status = 1;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 576
// Allow modules to react to immediate publishing.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 577
_scheduler_scheduler_api($node, 'publish_immediately');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 580
// Ensure the node is unpublished as it will be published by cron later.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 581
$node->status = 0;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 581
$node->status = 0;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 583
// Only inform the user that the node is scheduled if publication has not


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 584
// been prevented by other modules. Those modules have to display a


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 585
// message themselves explaining why publication is denied.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 586
if ($publication_allowed) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 587
$date_format = variable_get('scheduler_date_format', SCHEDULER_DATE_FORMAT);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 588
drupal_set_message(t('This post is unpublished and will be published @publish_time.', array('@publish_time' => format_date($node->publish_on, 'custom', $date_format))), 'status', FALSE);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 588
drupal_set_message(t('This post is unpublished and will be published @publish_time.', array('@publish_time' => format_date($node->publish_on, 'custom', $date_format))), 'status', FALSE);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 595
* Implements hook_node_insert().


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 597
function scheduler_node_insert($node) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 598
// Only insert into database if we need to (un)publish this node at some date.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 599
if (!empty($node->publish_on) || !empty($node->unpublish_on)) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 600
db_insert('scheduler')->fields(array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 604
))->execute();


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 606
// Invoke the events to indicate that a new node has been scheduled.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 607
if (module_exists('rules')) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 607
if (module_exists('rules')) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 608
if (!empty($node->publish_on)) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 609
rules_invoke_event('scheduler_new_node_is_scheduled_for_publishing_event', $node, $node->publish_on, $node->unpublish_on);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 611
if (!empty($node->unpublish_on)) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 612
rules_invoke_event('scheduler_new_node_is_scheduled_for_unpublishing_event', $node, $node->publish_on, $node->unpublish_on);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 619
* Implements hook_node_update().


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 621
function scheduler_node_update($node) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 622
// Only update database if we need to (un)publish this node at some date,


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 623
// otherwise the user probably cleared out the (un)publish dates so we should


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 624
// remove the record.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 625
if (!empty($node->publish_on) || !empty($node->unpublish_on)) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 629
))->execute();


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 631
// Invoke the events to indicate that an existing node has been scheduled.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 631
// Invoke the events to indicate that an existing node has been scheduled.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 632
if (module_exists('rules')) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 632
if (module_exists('rules')) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 633
if (!empty($node->publish_on)) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 634
rules_invoke_event('scheduler_existing_node_is_scheduled_for_publishing_event', $node, $node->publish_on, $node->unpublish_on);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 634
rules_invoke_event('scheduler_existing_node_is_scheduled_for_publishing_event', $node, $node->publish_on, $node->unpublish_on);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 636
if (!empty($node->unpublish_on)) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 637
rules_invoke_event('scheduler_existing_node_is_scheduled_for_unpublishing_event', $node, $node->publish_on, $node->unpublish_on);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 637
rules_invoke_event('scheduler_existing_node_is_scheduled_for_unpublishing_event', $node, $node->publish_on, $node->unpublish_on);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 642
scheduler_node_delete($node);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 647
* Implements hook_node_delete().


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 649
function scheduler_node_delete($node) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 650
db_delete('scheduler')->condition('nid', $node->nid)->execute();


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 654
* Implements hook_node_type_delete().


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 656
function scheduler_node_type_delete($info) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 659
$variables[] = "scheduler_publish_enable_" . $info->type;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 660
$variables[] = "scheduler_publish_touch_" . $info->type;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 661
$variables[] = "scheduler_publish_required_" . $info->type;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 662
$variables[] = "scheduler_publish_revision_" . $info->type;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 663
$variables[] = "scheduler_publish_past_date_" . $info->type;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 663
$variables[] = "scheduler_publish_past_date_" . $info->type;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 664
$variables[] = "scheduler_unpublish_enable_" . $info->type;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 665
$variables[] = "scheduler_unpublish_required_" . $info->type;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 666
$variables[] = "scheduler_unpublish_revision_" . $info->type;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 674
* Implements hook_cron().


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 676
function scheduler_cron() {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 677
// Load the cron functions file.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 680
// During cron runs we do not want i18n_sync to make any changes to the


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 681
// translation nodes, as this affects processing later in the same cron job.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 682
// Hence we save the i18n_sync state here, turn it off for the duration of


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 682
// Hence we save the i18n_sync state here, turn it off for the duration of


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 683
// Scheduler cron processing, then restore the setting afterwards.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 683
// Scheduler cron processing, then restore the setting afterwards.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 684
// @todo Replace this workaround with a hook implementation when issue


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 686
// @see https://drupal.org/node/1182450


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 687
// @see https://drupal.org/node/2136557


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 688
if (module_exists('i18n_sync')) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 688
if (module_exists('i18n_sync')) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 689
$i18n_sync_saved_state = i18n_sync();


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 689
$i18n_sync_saved_state = i18n_sync();


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 693
// Use drupal_static so that any function can find out if we are running


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 693
// Use drupal_static so that any function can find out if we are running


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 694
// Scheduler cron. Set the default value to FALSE, then turn on the flag.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 696
$scheduler_cron = &drupal_static(__FUNCTION__, FALSE);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 696
$scheduler_cron = &drupal_static(__FUNCTION__, FALSE);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 699
// If the option is enabled clear caches if a node was published or


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 700
// unpublished, just like it would have been done if system_cron ran or the


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 700
// unpublished, just like it would have been done if system_cron ran or the


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 701
// nodes were edited through the node edit form.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 704
if (variable_get('scheduler_cache_clear_all', 0) && ($nodes_published || $nodes_unpublished)) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 705
// Clear the page and block caches.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 709
// Reset the static scheduler_cron flag.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 709
// Reset the static scheduler_cron flag.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 710
drupal_static_reset(__FUNCTION__);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 710
drupal_static_reset(__FUNCTION__);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 712
// Restore the i18n_sync state.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 712
// Restore the i18n_sync state.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 713
module_exists('i18n_sync') ? i18n_sync($i18n_sync_saved_state) : NULL;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 713
module_exists('i18n_sync') ? i18n_sync($i18n_sync_saved_state) : NULL;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 717
* Return whether Scheduler cron is running.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 719
* This function can be called from any Scheduler function, from any contrib


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 720
* module or from custom PHP in a view or rule.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 720
* module or from custom PHP in a view or rule.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 722
* @return bool


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 723
*   TRUE if scheduler_cron is currently running. FALSE if not.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 725
function scheduler_cron_is_running() {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 726
return drupal_static('scheduler_cron');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 726
return drupal_static('scheduler_cron');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 730
* Access callback for the lightweight cron url /scheduler/cron/key.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 732
* @param string $cron_key


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 732
* @param string $cron_key


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 733
*   The cron key that was passed as a URL argument.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 735
* @return bool


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 736
*   TRUE if the cron url key is correct. FALSE otherwise.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 738
function _scheduler_cron_access($cron_key) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 739
$valid_cron_key = variable_get('scheduler_lightweight_access_key', '');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 740
return $valid_cron_key == $cron_key;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 744
* Scheduler API to perform actions when nodes are (un)published.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 746
* This allows other modules to implement hook_scheduler_api($node, $action).


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 748
* @param object $node


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 749
*   The node object.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 750
* @param string $action


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 750
* @param string $action


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 751
*   The action being performed, either 'pre_publish', 'publish',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 752
*   'publish_immediately', 'pre_unpublish' or 'unpublish'.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 754
function _scheduler_scheduler_api($node, $action) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 755
foreach (module_implements('scheduler_api') as $module) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 756
$function = $module . '_scheduler_api';


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 757
$function($node, $action);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 762
* Implements hook_theme().


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 764
function scheduler_theme() {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 765
return array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 766
'scheduler_timecheck' => array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 767
'arguments' => array('now' => NULL),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 773
* Implements hook_views_api().


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 775
function scheduler_views_api() {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 777
return $info;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 781
* Implements hook_field_extra_fields().


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 783
function scheduler_field_extra_fields() {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module get_t at line: 786
foreach (node_type_get_types() as $type) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 786
foreach (node_type_get_types() as $type) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 787
$publishing_enabled = variable_get('scheduler_publish_enable_' . $type->type, 0);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 788
$unpublishing_enabled = variable_get('scheduler_unpublish_enable_' . $type->type, 0);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 789
$use_vertical_tabs = variable_get('scheduler_use_vertical_tabs_' . $type->type, 1);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 791
if (($publishing_enabled || $unpublishing_enabled) && !$use_vertical_tabs) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 792
$fields['node'][$type->type]['form']['scheduler_settings'] = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 793
'label' => t('Scheduler'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 794
'description' => t('Fieldset containing scheduling settings'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 795
'weight' => 0,


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 799
return $fields;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 803
* Prepares variables for node templates.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 805
* Makes the publish_on and unpublish_on data available as theme variables.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 807
* @see template_preprocess_node()


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 809
function scheduler_preprocess_node(&$variables) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 811
$date_format = variable_get('scheduler_date_format', SCHEDULER_DATE_FORMAT);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 812
if (!empty($node->publish_on) && $node->publish_on && is_numeric($node->publish_on)) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 813
$variables['publish_on'] = format_date($node->publish_on, 'custom', $date_format);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 813
$variables['publish_on'] = format_date($node->publish_on, 'custom', $date_format);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 815
if (!empty($node->unpublish_on) && $node->unpublish_on && is_numeric($node->unpublish_on)) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 816
$variables['unpublish_on'] = format_date($node->unpublish_on, 'custom', $date_format);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 816
$variables['unpublish_on'] = format_date($node->unpublish_on, 'custom', $date_format);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 821
* Implements hook_feeds_processor_targets_alter().


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 823
* This function exposes publish_on and unpublish_on as mappable targets to the


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 826
function scheduler_feeds_processor_targets_alter(&$targets, $entity_type, $bundle_name) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 828
if ($entity_type == 'node') {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 829
$publishing_enabled = variable_get('scheduler_publish_enable_' . $bundle_name, 0);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 830
$unpublishing_enabled = variable_get('scheduler_unpublish_enable_' . $bundle_name, 0);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 833
$targets['publish_on'] = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 834
'name' => t('Scheduler: publish on'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 835
'description' => t('The date when the Scheduler module will publish the node.'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 836
'callback' => 'scheduler_feeds_set_target',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 840
$targets['unpublish_on'] = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 841
'name' => t('Scheduler: unpublish on'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 842
'description' => t('The date when the Scheduler module will unpublish the node.'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 843
'callback' => 'scheduler_feeds_set_target',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 850
* Mapping callback for the Feeds module.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 852
function scheduler_feeds_set_target($source, $entity, $target, $value, $mapping) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 853
// We expect a string or integer, but can accomodate an array, by taking the


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 853
// We expect a string or integer, but can accomodate an array, by taking the


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 854
// first item. Use trim() so that a string of blanks is reduced to empty.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 854
// first item. Use trim() so that a string of blanks is reduced to empty.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 855
$value = is_array($value) ? trim(reset($value)) : trim($value);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 857
// Convert input from parser to timestamp form. If $value is empty or blank


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 857
// Convert input from parser to timestamp form. If $value is empty or blank


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 858
// then strtotime() must not be used, otherwise it returns the current time.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 858
// then strtotime() must not be used, otherwise it returns the current time.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 859
if (!empty($value) && !is_numeric($value)) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 860
if (!$timestamp = strtotime($value)) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 860
if (!$timestamp = strtotime($value)) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 861
throw new FeedsValidationException(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 862
// Throw an exception if the date format was not recognized.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 863
t('Value %value for @source could not be converted to a valid %target date.', array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 866
'%target' => $target,


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 872
$timestamp = $value;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 872
$timestamp = $value;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 875
// If the timestamp is valid then use it to set the target field in the node.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 875
// If the timestamp is valid then use it to set the target field in the node.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 876
if (is_numeric($timestamp) && $timestamp > 0) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 876
if (is_numeric($timestamp) && $timestamp > 0) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 877
$entity->$target = $timestamp;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 877
$entity->$target = $timestamp;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 882
* Implements hook_ctools_plugin_directory().


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 884
function scheduler_ctools_plugin_directory($owner, $plugin_type) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 885
// Declare a form pane (panels content type) for use in ctools and page


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 886
// manager. This allows the Scheduler fieldset to be placed in a panel.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 887
if ($owner == 'ctools' && $plugin_type == 'content_types') {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 888
return 'plugins/content_types';


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 893
* Implements hook_i18n_sync_options().


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 895
function scheduler_i18n_sync_options($entity_type, $bundle_name) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 896
// Keep the scheduler dates synchronised between separate nodes which have


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 897
// been defined as translations of each other.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 898
if ($entity_type == 'node') {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 899
$options = array();


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 900
// $bundle_name holds the content_type.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 901
if (variable_get('scheduler_publish_enable_' . $bundle_name, 0)) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 902
$options['publish_on'] = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 903
'title' => t('Publish on'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 904
'description' => t('Scheduler Publish date and time'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 907
if (variable_get('scheduler_unpublish_enable_' . $bundle_name, 0)) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 908
$options['unpublish_on'] = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 909
'title' => t('Unpublish on'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 910
'description' => t('Scheduler Unpublish date and time'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 913
return $options;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 918
* Implements hook_field_attach_prepare_translation_alter().


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 920
function scheduler_field_attach_prepare_translation_alter($entity, $context) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 921
// Prefill the node translation form with values from the translation source


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 923
$source_entity = $context['source_entity'];


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 925
if (isset($source_entity->publish_on)) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 926
$entity->publish_on = $source_entity->publish_on;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 928
if (isset($source_entity->unpublish_on)) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 929
$entity->unpublish_on = $source_entity->unpublish_on;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 934
* Implements hook_date_popup_pre_validate_alter().


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 936
function scheduler_date_popup_pre_validate_alter($element, $form_state, &$input) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 936
function scheduler_date_popup_pre_validate_alter($element, $form_state, &$input) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 937
// Provide a default time if this is enabled and the time field is empty.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 938
if (variable_get('scheduler_allow_date_only', FALSE) && $element['#array_parents'][0] == 'scheduler_settings' && !empty($input['date']) && empty($input['time'])) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 939
// Get the default time as a timestamp number.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 939
// Get the default time as a timestamp number.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 940
$default_time = strtotime(variable_get('scheduler_default_time', SCHEDULER_DEFAULT_TIME));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 940
$default_time = strtotime(variable_get('scheduler_default_time', SCHEDULER_DEFAULT_TIME));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 941
// Set the time in the required format just as if the user had typed it.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 941
// Set the time in the required format just as if the user had typed it.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module st at line: 942
$input['time'] = format_date($default_time, 'custom', variable_get('scheduler_time_only_format', SCHEDULER_TIME_ONLY_FORMAT));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module t at line: 942
$input['time'] = format_date($default_time, 'custom', variable_get('scheduler_time_only_format', SCHEDULER_TIME_ONLY_FORMAT));


[*] End report for /var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.module
=== 

/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 5
* API documentation for the Scheduler module.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 9
* @addtogroup hooks


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 14
* Modules can implement hook_scheduler_api() to react to the Scheduler


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 15
* operation being done on a node. The hook is invoked during cron processing


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 18
* @param object $node


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 19
*   The scheduled node object that is being processed.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php st at line: 21
* @param string $action


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 21
* @param string $action


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 22
*   $action determines what is being done to the node. The value will be


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 23
*   'pre_publish', 'publish', 'publish_immediately', 'pre_unpublish'


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 26
function hook_scheduler_api($node, $action) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 27
switch ($action) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 32
case 'publish_immediately' :


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 38
default:


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php st at line: 43
* Modules can implement hook_scheduler_nid_list() to add more node ids into the


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 43
* Modules can implement hook_scheduler_nid_list() to add more node ids into the


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php st at line: 44
* list to be processed in the current cron run. This hook is invoked during


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 44
* list to be processed in the current cron run. This hook is invoked during


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php st at line: 47
* @param string $action


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 47
* @param string $action


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 48
*   $action determines what is being done to the node.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 51
* @return array


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php st at line: 52
*   Array of node ids to add to the existing list of nodes to be processed.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 52
*   Array of node ids to add to the existing list of nodes to be processed.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php st at line: 54
function hook_scheduler_nid_list($action) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 54
function hook_scheduler_nid_list($action) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 56
// Do some processing to add new node ids.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 57
return $nids;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php st at line: 61
* Modules can implement hook_scheduler_nid_list_alter() to add or remove node


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 61
* Modules can implement hook_scheduler_nid_list_alter() to add or remove node


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php st at line: 62
* ids from the list to be processed in the current cron run. This hook is


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 62
* ids from the list to be processed in the current cron run. This hook is


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php st at line: 68
* @param string $action


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 68
* @param string $action


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 69
*   $action determines what is being done to the node.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 72
* @return array


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php st at line: 73
*   The full array of node ids to process, adjusted as required.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 73
*   The full array of node ids to process, adjusted as required.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php st at line: 75
function hook_scheduler_nid_list_alter(&$nids, $action) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 75
function hook_scheduler_nid_list_alter(&$nids, $action) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 76
return $nids;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 80
* Modules can implement hook_scheduler_allow_publishing() to prevent


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 81
* publication of a scheduled node.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 83
* The node can be scheduled, and an attempt to publish it will be made during


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php st at line: 84
* the first cron run after the publishing time. If this hook returns FALSE the


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 84
* the first cron run after the publishing time. If this hook returns FALSE the


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 85
* node will not be published. Attempts at publishing will continue on each


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 86
* subsequent cron run until this hook returns TRUE.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 88
* @param object $node


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 89
*   The scheduled node that is about to be published.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 91
* @return bool


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 92
*   TRUE if the node can be published, FALSE if it should not be published.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 94
function hook_scheduler_allow_publishing($node) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 97
// Prevent publication of nodes that do not have the 'Approved for publication


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 98
// by the CEO' checkbox ticked.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 99
if ($items = field_get_items('node', $node, 'field_approved')) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 100
$allowed = !empty($items[0]['value']);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 102
// If publication is denied then inform the user why. This message will be


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 103
// displayed during node edit and save.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php st at line: 105
drupal_set_message(t('The content will only be published after approval by the CEO.'), 'status', FALSE);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 105
drupal_set_message(t('The content will only be published after approval by the CEO.'), 'status', FALSE);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 109
return $allowed;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 113
* Modules can implement hook_scheduler_allow_unpublishing() to prevent


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 114
* unpublication of a scheduled node.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 116
* The node can be scheduled, and an attempt to unpublish it will be made during


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php st at line: 117
* the first cron run after the unpublishing time. If this hook returns FALSE


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 117
* the first cron run after the unpublishing time. If this hook returns FALSE


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 118
* the node will not be unpublished. Attempts at unpublishing will continue on


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 119
* each subsequent cron run until this hook returns TRUE.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 121
* @param object $node


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 122
*   The scheduled node that is about to be unpublished.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 124
* @return bool


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 125
*   TRUE if the node can be unpublished, FALSE if it should not be unpublished.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 127
function hook_scheduler_allow_unpublishing($node) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 130
// Prevent unpublication of competition entries if not all prizes have been


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 132
if ($node->type == 'competition' && $items = field_get_items('node', $node, 'field_competition_prizes')) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 133
$allowed = (bool) count($items);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 135
// If unpublication is denied then inform the user why. This message will be


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 136
// displayed during node edit and save.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 138
drupal_set_message(t('The competition will only be unpublished after all prizes have been claimed by the winners.'));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 142
return $allowed;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php t at line: 146
* @} End of "addtogroup hooks".


[*] End report for /var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.api.php
=== 

/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 5
* Scheduler node edit functions.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 7
* This file is included only when a node is being edited by a user who has


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 8
* permission to schedule nodes, and the node-type is enabled for scheduling.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 12
* Helper function that does all the work for the real hook_form_alter().


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 14
* @see scheduler_form_alter()


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc st at line: 16
function _scheduler_form_alter(&$form, $form_state) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 16
function _scheduler_form_alter(&$form, $form_state) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 17
$publishing_enabled = variable_get('scheduler_publish_enable_' . $form['type']['#value'], 0) == 1;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 18
$unpublishing_enabled = variable_get('scheduler_unpublish_enable_' . $form['type']['#value'], 0) == 1;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 19
$date_format = variable_get('scheduler_date_format', SCHEDULER_DATE_FORMAT);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 20
$date_only_format = variable_get('scheduler_date_only_format', SCHEDULER_DATE_ONLY_FORMAT);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 21
$time_only_format = variable_get('scheduler_time_only_format', SCHEDULER_TIME_ONLY_FORMAT);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 22
$date_only_allowed = variable_get('scheduler_allow_date_only', FALSE);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 23
$use_date_popup = _scheduler_use_date_popup();


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 24
$internal_date_format = $use_date_popup ? SCHEDULER_DATE_FORMAT : $date_format;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 27
// If this is a preview then get the values from the form, not the


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 28
// database.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc st at line: 29
if (isset($form_state['values']['op']) && $form_state['values']['op'] == t('Preview')) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 29
if (isset($form_state['values']['op']) && $form_state['values']['op'] == t('Preview')) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 30
$defaults = new StdClass;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc st at line: 31
$defaults->publish_on = $publishing_enabled ? $form_state['values']['publish_on'] : NULL;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 31
$defaults->publish_on = $publishing_enabled ? $form_state['values']['publish_on'] : NULL;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc st at line: 32
$defaults->unpublish_on = $unpublishing_enabled ? $form_state['values']['unpublish_on'] : NULL;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 32
$defaults->unpublish_on = $unpublishing_enabled ? $form_state['values']['unpublish_on'] : NULL;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 34
elseif (isset($node->nid) && $node->nid > 0) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc st at line: 35
// Load the values from the database if we are viewing an existing node.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 35
// Load the values from the database if we are viewing an existing node.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 36
$query = db_select('scheduler', 's');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 38
$query->condition('s.nid', $node->nid, '=');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 39
$defaults = $query->execute()->fetchObject();


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc st at line: 42
// Initialise standard values.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 42
// Initialise standard values.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 43
$defaults = new StdClass;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 44
// Respect presets added by functions like


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 45
// scheduler_field_attach_prepare_translation_alter().


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 46
$defaults->publish_on = isset($node->publish_on) ? $node->publish_on : NULL;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 47
$defaults->unpublish_on = isset($node->unpublish_on) ? $node->unpublish_on : NULL;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc st at line: 50
// If there is a text value then convert it to a Unix timestamp.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 50
// If there is a text value then convert it to a Unix timestamp.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 51
if (isset($defaults->publish_on) && $defaults->publish_on && !is_numeric($defaults->publish_on)) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc st at line: 52
$defaults->publish_on = _scheduler_strtotime($defaults->publish_on);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 52
$defaults->publish_on = _scheduler_strtotime($defaults->publish_on);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 54
if (isset($defaults->unpublish_on) && $defaults->unpublish_on && !is_numeric($defaults->unpublish_on)) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc st at line: 55
$defaults->unpublish_on = _scheduler_strtotime($defaults->unpublish_on);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 55
$defaults->unpublish_on = _scheduler_strtotime($defaults->unpublish_on);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 58
// A publish_on date is required if the content type option is set and the


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 59
// node is being created or it currently has a scheduled publishing date.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 60
$publishing_required = variable_get('scheduler_publish_required_' . $form['type']['#value'], 0) == 1


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc st at line: 61
&& (empty($node->nid) || ($node->status == 0 && !empty($node->publish_on)));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 61
&& (empty($node->nid) || ($node->status == 0 && !empty($node->publish_on)));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 63
// An unpublish_on date is required if the content type option is set and


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc st at line: 64
// the node is being created or the current status is published or the


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 64
// the node is being created or the current status is published or the


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 65
// node is scheduled to be published.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 66
$unpublishing_required = variable_get('scheduler_unpublish_required_' . $form['type']['#value'], 0) == 1


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc st at line: 67
&& (empty($node->nid) || $node->status == 1 || !empty($node->publish_on));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 67
&& (empty($node->nid) || $node->status == 1 || !empty($node->publish_on));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 69
$use_vertical_tabs = variable_get('scheduler_use_vertical_tabs_' . $form['type']['#value'], 1);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 70
$fieldset_extended = (


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 71
(isset($defaults->publish_on) && $defaults->publish_on != 0)


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 72
|| (isset($defaults->unpublish_on) && $defaults->unpublish_on != 0)


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 75
|| variable_get('scheduler_expand_fieldset_' . $form['type']['#value'], 0)


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 78
$form['scheduler_settings'] = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 79
'#type' => 'fieldset',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 80
'#title' => t('Scheduling options'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 82
'#collapsed' => !$fieldset_extended,


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 83
'#weight' => 35,


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 86
// Add Scheduler settings to Vertical Tabs group and attach the javascript.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 87
if ($use_vertical_tabs) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 88
$form['scheduler_settings']['#group'] = 'additional_settings';


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 89
$form['scheduler_settings']['#attached']['js'][] = drupal_get_path('module', 'scheduler') . '/scheduler_vertical_tabs.js';


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 92
$extra_info = variable_get('scheduler_extra_info', '');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 93
if ($extra_info && $extra_info != '') {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 94
$form['scheduler_settings']['extra_info'] = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 95
'#type' => 'item',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc filter_xss at line: 96
'#markup' => filter_xss_admin($extra_info),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc filter_xss_admin at line: 96
'#markup' => filter_xss_admin($extra_info),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 96
'#markup' => filter_xss_admin($extra_info),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 100
// Define the descriptions depending on whether the time can be skipped.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 101
$descriptions = array();


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 102
if ($date_only_allowed && ($date_only_format != $date_format)) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc st at line: 103
$descriptions['format'] = t('Format: %date_only_format or %standard_format.', array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 103
$descriptions['format'] = t('Format: %date_only_format or %standard_format.', array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc st at line: 104
'%date_only_format' => format_date(time(), 'custom', $date_only_format),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 104
'%date_only_format' => format_date(time(), 'custom', $date_only_format),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc st at line: 105
'%standard_format' => format_date(time(), 'custom', $date_format),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 105
'%standard_format' => format_date(time(), 'custom', $date_format),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc st at line: 109
$descriptions['format'] = t('Format: %standard_format.', array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 109
$descriptions['format'] = t('Format: %standard_format.', array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc st at line: 110
'%standard_format' => format_date(time(), 'custom', $date_format),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 110
'%standard_format' => format_date(time(), 'custom', $date_format),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 113
// Show the default time so users know what they will get if they do not


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 114
// enter a time.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 115
if ($date_only_allowed) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc st at line: 116
$default_time = strtotime(variable_get('scheduler_default_time', SCHEDULER_DEFAULT_TIME));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 116
$default_time = strtotime(variable_get('scheduler_default_time', SCHEDULER_DEFAULT_TIME));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 117
$descriptions['default'] = t('The default time is @default_time.', array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc st at line: 118
'@default_time' => format_date($default_time, 'custom', $time_only_format ? $time_only_format : SCHEDULER_TIME_ONLY_FORMAT),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 118
'@default_time' => format_date($default_time, 'custom', $time_only_format ? $time_only_format : SCHEDULER_TIME_ONLY_FORMAT),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 124
$descriptions['blank'] = t('Leave the date blank for no scheduled publishing.');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 127
$form['scheduler_settings']['publish_on'] = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 128
'#type' => 'textfield',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 129
'#title' => t('Publish on'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 130
'#maxlength' => 30,


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc st at line: 132
'#default_value' => isset($defaults->publish_on) && $defaults->publish_on ? format_date($defaults->publish_on, 'custom', $internal_date_format) : '',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 132
'#default_value' => isset($defaults->publish_on) && $defaults->publish_on ? format_date($defaults->publish_on, 'custom', $internal_date_format) : '',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc filter_xss at line: 133
'#description' => filter_xss(implode(' ', $descriptions)),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 133
'#description' => filter_xss(implode(' ', $descriptions)),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 134
'#value_callback' => 'scheduler_date_value_callback',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 136
if ($use_date_popup) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 137
// Make this a popup calendar widget.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 138
$form['scheduler_settings']['publish_on']['#type'] = 'date_popup';


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 139
$form['scheduler_settings']['publish_on']['#date_format'] = $date_format;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 140
$form['scheduler_settings']['publish_on']['#date_year_range'] = '0:+10';


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 141
$form['scheduler_settings']['publish_on']['#date_increment'] = variable_get('scheduler_date_popup_minute_increment', 1);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 142
unset($descriptions['format']);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc filter_xss at line: 143
$form['scheduler_settings']['publish_on']['#description'] = filter_xss(implode(' ', $descriptions));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 143
$form['scheduler_settings']['publish_on']['#description'] = filter_xss(implode(' ', $descriptions));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 144
unset($form['scheduler_settings']['publish_on']['#maxlength']);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 150
$descriptions['blank'] = t('Leave the date blank for no scheduled unpublishing.');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 153
unset($descriptions['blank']);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 155
$form['scheduler_settings']['unpublish_on'] = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 156
'#type' => 'textfield',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 157
'#title' => t('Unpublish on'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 158
'#maxlength' => 30,


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc st at line: 160
'#default_value' => isset($defaults->unpublish_on) && $defaults->unpublish_on ? format_date($defaults->unpublish_on, 'custom', $internal_date_format) : '',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 160
'#default_value' => isset($defaults->unpublish_on) && $defaults->unpublish_on ? format_date($defaults->unpublish_on, 'custom', $internal_date_format) : '',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc filter_xss at line: 161
'#description' => filter_xss(implode(' ', $descriptions)),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 161
'#description' => filter_xss(implode(' ', $descriptions)),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 162
'#value_callback' => 'scheduler_date_value_callback',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 165
if ($use_date_popup) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 166
// Make this a popup calendar widget.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 167
$form['scheduler_settings']['unpublish_on']['#type'] = 'date_popup';


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 168
$form['scheduler_settings']['unpublish_on']['#date_format'] = $date_format;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 169
$form['scheduler_settings']['unpublish_on']['#date_year_range'] = '0:+10';


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 170
$form['scheduler_settings']['unpublish_on']['#date_increment'] = variable_get('scheduler_date_popup_minute_increment', 1);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 171
unset($descriptions['format']);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc filter_xss at line: 172
$form['scheduler_settings']['unpublish_on']['#description'] = filter_xss(implode(' ', $descriptions));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 172
$form['scheduler_settings']['unpublish_on']['#description'] = filter_xss(implode(' ', $descriptions));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 173
unset($form['scheduler_settings']['unpublish_on']['#maxlength']);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 179
* Callback function for the Scheduler date entry elements.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc st at line: 181
function scheduler_date_value_callback(&$element, $input = FALSE, &$form_state) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 181
function scheduler_date_value_callback(&$element, $input = FALSE, &$form_state) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 182
// When processing a delete operation the user should not be forced to enter a


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 183
// date. Hence set the scheduler date element's #required attribute to FALSE.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc st at line: 184
// Test the input operation against $form_state['values']['delete'] as this


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 184
// Test the input operation against $form_state['values']['delete'] as this


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 185
// will match the value of the Delete button even if translated.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc st at line: 186
if (isset($form_state['input']['op']) && isset($form_state['values']['delete']) && $form_state['input']['op'] == $form_state['values']['delete']) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 186
if (isset($form_state['input']['op']) && isset($form_state['values']['delete']) && $form_state['input']['op'] == $form_state['values']['delete']) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 187
$element['#required'] = FALSE;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 189
// If using date popup then process the callback that would have been done had


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 190
// Scheduler not replaced this with its own one. If using plain text entry


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 191
// then no return value is needed.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 192
if (_scheduler_use_date_popup()) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc st at line: 193
return date_popup_element_value_callback($element, $input, $form_state);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc t at line: 193
return date_popup_element_value_callback($element, $input, $form_state);


[*] End report for /var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.edit.inc
=== 

/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.tokens.inc t at line: 5
* Builds placeholder replacement tokens for node scheduler data.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.tokens.inc t at line: 9
* Implements hook_token_info().


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.tokens.inc t at line: 11
function scheduler_token_info() {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.tokens.inc t at line: 12
$info['tokens']['node']['scheduler-publish'] = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.tokens.inc t at line: 13
'name' => t('Publish on date'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.tokens.inc t at line: 14
'description' => t("The date the node will be published."),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.tokens.inc t at line: 15
'type' => 'date',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.tokens.inc t at line: 17
$info['tokens']['node']['scheduler-unpublish'] = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.tokens.inc t at line: 18
'name' => t('Unpublish on date'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.tokens.inc t at line: 19
'description' => t("The date the node will be unpublished."),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.tokens.inc t at line: 20
'type' => 'date',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.tokens.inc t at line: 23
return $info;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.tokens.inc t at line: 27
* Implements hook_tokens().


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.tokens.inc t at line: 29
function scheduler_tokens($type, $tokens, array $data = array(), array $options = array()) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.tokens.inc t at line: 30
$language_code = isset($options['language']) ? $options['language']->language : NULL;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.tokens.inc t at line: 31
$replacements = array();


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.tokens.inc t at line: 33
if ($type == 'node' && !empty($data['node'])) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.tokens.inc t at line: 34
// Usually the tokens are generated on saved node data, where the scheduler


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.tokens.inc st at line: 35
// fields are numeric timestamps. However, if the tokens are required during


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.tokens.inc t at line: 35
// fields are numeric timestamps. However, if the tokens are required during


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.tokens.inc t at line: 36
// the process of saving a node before hook_node_presave() has been executed


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.tokens.inc st at line: 37
// then the fields will be date strings. Cater for both scenarios here.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.tokens.inc t at line: 37
// then the fields will be date strings. Cater for both scenarios here.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.tokens.inc t at line: 38
// @see https://www.drupal.org/node/2750467


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.tokens.inc t at line: 39
$node = $data['node'];


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.tokens.inc t at line: 41
if (empty($node->$field)) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.tokens.inc st at line: 48
${$field} = _scheduler_strtotime($node->$field);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.tokens.inc t at line: 48
${$field} = _scheduler_strtotime($node->$field);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.tokens.inc t at line: 52
// For the plain [node:scheduler-publish] and [node:scheduler-unpublish]


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.tokens.inc t at line: 53
// generate the replacements using the default date format of 'medium'.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.tokens.inc t at line: 54
foreach ($tokens as $name => $original) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.tokens.inc t at line: 55
switch ($name) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.tokens.inc t at line: 57
if (!empty($publish_on)) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.tokens.inc t at line: 58
$replacements[$original] = format_date($publish_on, 'medium', '', NULL, $language_code);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.tokens.inc t at line: 62
if (!empty($unpublish_on)) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.tokens.inc t at line: 63
$replacements[$original] = format_date($unpublish_on, 'medium', '', NULL, $language_code);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.tokens.inc t at line: 66
default:


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.tokens.inc t at line: 70
// Chained token replacement. This generates replacements for patterns with


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.tokens.inc t at line: 71
// a date format suffix, for example [node:scheduler-publish:long] or


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.tokens.inc t at line: 72
// [node:scheduler-unpublish:date_only].


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.tokens.inc t at line: 73
if (!empty($publish_on) && $publish_tokens = token_find_with_prefix($tokens, 'scheduler-publish')) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.tokens.inc t at line: 74
$replacements += token_generate('date', $publish_tokens, array('date' => $publish_on), $options);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.tokens.inc t at line: 76
if (!empty($unpublish_on) && $unpublish_tokens = token_find_with_prefix($tokens, 'scheduler-unpublish')) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.tokens.inc t at line: 77
$replacements += token_generate('date', $unpublish_tokens, array('date' => $unpublish_on), $options);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.tokens.inc t at line: 80
return $replacements;


[*] End report for /var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.tokens.inc
=== 

/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 5
* Scheduler functions to provide default rules and components.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 9
* Implements hook_default_rules_configuration().


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 11
* @return


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 12
*   An array of rules configurations with the configuration names as keys.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 14
function scheduler_default_rules_configuration() {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 15
// Define two reaction rules which will be displayed on the 'Rules' tab. These


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 16
// are initially inactive, but the user can enable them, and then modify the


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 17
// values and/or add more conditions and actions.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 19
// 1. Reaction rule to send an email when Scheduler publishes content.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 20
$rule = rules_reaction_rule();


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 21
$rule->label = t('Send e-mail when content is published by Scheduler');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 22
$rule->active = FALSE;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 23
$rule->event('scheduler_node_has_been_published_event')


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 24
->condition(rules_condition('data_is_empty', array('data:select' => 'node:author:mail', 'value' => TRUE))->negate())


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 25
->action('mail', array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 26
'to' => '[node:author:mail]',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 27
'subject' => t("'[node:title]' has been published on [site:name]"),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 28
// Needs double quotes for the newlines to be evaluated.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 29
'message' => t("Dear [node:author:name],\r\nYour [node:type] '[node:title]' has been published on [site:name].\r\nThe link is [node:url]\r\n"),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 31
$rule->tags = array('Scheduler');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 32
$configs['scheduler_send_email_after_publishing_node'] = $rule;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 34
// 2. Reaction rule to send an email when Scheduler unpublishes content.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 35
$rule = rules_reaction_rule();


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 36
$rule->label = t('Send e-mail when content is unpublished by Scheduler');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 37
$rule->active = FALSE;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 38
$rule->event('scheduler_node_has_been_unpublished_event')


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 39
->condition(rules_condition('data_is_empty', array('data:select' => 'node:author:mail', 'value' => TRUE))->negate())


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 40
->action('mail', array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 41
'to' => '[node:author:mail]',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 42
'subject' => t("'[node:title]' has been unpublished on [site:name]"),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 43
'message' => t("Dear [node:author:name],\r\nYour [node:type] '[node:title]' has been unpublished on [site:name].\r\nThe link is [node:url]\r\n"),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 45
$rule->tags = array('Scheduler');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 46
$configs['scheduler_send_email_after_unpublishing_node'] = $rule;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 48
// Define four components which will be available in the 'Components' tab in


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 49
// Rules admin. These are also available in Views Bulk Operations, to allow


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 50
// a user to set or remove scheduling dates in bulk.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 52
// 1. Component to set the publishing date on a node.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 55
'type' => 'node',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 56
'label' => t('Node'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 57
'description' => t('The node for publishing via Scheduler.'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 59
'scheduler_publish_on_date' => array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 60
'type' => 'date',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 61
'label' => t('Publish-on Date'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 62
'description' => t('The publishing date to be used by Scheduler.'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 65
$rule->label = t('Set scheduled publishing date');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 67
->condition('scheduler_condition_publishing_is_enabled', array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 68
'node:select' => 'scheduler-node',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 70
// The keys required below are 'node:select' and 'date:select'. This is made


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 71
// up of the key names defined in scheduler_rules_action_info() followed by


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc st at line: 72
// :select to specify data selection instead of plain text values.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 72
// :select to specify data selection instead of plain text values.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 73
->action('scheduler_set_publish_date_action', array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 74
'node:select' => 'scheduler-node',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 75
'date:select' => 'scheduler-publish-on-date',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 77
$rule->tags = array('Scheduler');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 78
$configs['scheduler_set_publish_date_component'] = $rule;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 80
// 2. Component to set the unpublishing date on a node.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 83
'type' => 'node',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 84
'label' => t('Node'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 85
'description' => t('The node for unpublishing via Scheduler.'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 87
'scheduler_unpublish_on_date' => array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 88
'type' => 'date',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 89
'label' => t('Unpublish-on Date'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 90
'description' => t('The unpublishing date to be used by Scheduler.'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 93
$rule->label = t('Set scheduled unpublishing date');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 95
->condition('scheduler_condition_unpublishing_is_enabled', array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 96
'node:select' => 'scheduler-node',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 98
->action('scheduler_set_unpublish_date_action', array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 99
'node:select' => 'scheduler-node',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 100
'date:select' => 'scheduler-unpublish-on-date',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 102
$rule->tags = array('Scheduler');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 103
$configs['scheduler_set_unpublish_date_component'] = $rule;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 105
// 3. Component to remove the publishing date from a node.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 108
'type' => 'node',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 109
'label' => t('The scheduled node'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 110
'description' => t('The node scheduled for publishing via Scheduler.'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 113
$rule->label = t('Remove scheduled publishing date');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 115
->condition('scheduler_condition_node_is_scheduled_for_publishing', array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 116
'node:select' => 'scheduler-node',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 118
->action('scheduler_remove_publish_date_action', array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 119
'node:select' => 'scheduler-node',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 121
$rule->tags = array('Scheduler');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 122
$configs['scheduler_remove_publish_date_component'] = $rule;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 124
// 4. Component to remove the unpublishing date from a node.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 127
'type' => 'node',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 128
'label' => t('The scheduled node'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 129
'description' => t('The node scheduled for unpublishing via Scheduler.'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 132
$rule->label = t('Remove scheduled unpublishing date');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 134
->condition('scheduler_condition_node_is_scheduled_for_unpublishing', array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 135
'node:select' => 'scheduler-node',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 137
->action('scheduler_remove_unpublish_date_action', array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 138
'node:select' => 'scheduler-node',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 140
$rule->tags = array('Scheduler');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 141
$configs['scheduler_remove_unpublish_date_component'] = $rule;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc t at line: 143
return $configs;


[*] End report for /var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules_defaults.inc
=== 

/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 5
* Scheduler rules functions.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 9
* Implements hook_rules_event_info().


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 11
function scheduler_rules_event_info() {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 12
// This hook function defines four Scheduler events which can be used by Rules


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 13
// to trigger other actions.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 15
// Create an array of variables, as these are the same for each of the events.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 18
'type' => 'node',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 19
'label' => t('Scheduled Content Node'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 20
'description' => t('The node object representing the scheduled content'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 22
// Use both dates in all rules to give maximum flexibility for use within a


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc st at line: 23
// single event. The two dates do exist in the $node object, but will be 0


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 23
// single event. The two dates do exist in the $node object, but will be 0


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 24
// if no date is entered. Including the specific date variables gives more


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 25
// flexibility because any non-entered date will be blank here not zero.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 27
'type' => 'date',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 28
'label' => t('Scheduler Publish On date'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 29
'description' => t('Date and time that the node will be published by Scheduler'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 32
'type' => 'date',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 33
'label' => t('Scheduler Unpublish On date'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 34
'description' => t('Date and time that the node will be unpublished by Scheduler'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 38
// Define the events.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 39
$items = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 40
'scheduler_new_node_is_scheduled_for_publishing_event' => array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 41
'label' => t('After saving new content that is scheduled for publishing'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 42
'group' => t('Scheduler'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc st at line: 45
'scheduler_existing_node_is_scheduled_for_publishing_event' => array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 45
'scheduler_existing_node_is_scheduled_for_publishing_event' => array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc st at line: 46
'label' => t('After updating existing content that is scheduled for publishing'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 46
'label' => t('After updating existing content that is scheduled for publishing'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 47
'group' => t('Scheduler'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 50
'scheduler_new_node_is_scheduled_for_unpublishing_event' => array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 51
'label' => t('After saving new content that is scheduled for unpublishing'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 52
'group' => t('Scheduler'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc st at line: 55
'scheduler_existing_node_is_scheduled_for_unpublishing_event' => array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 55
'scheduler_existing_node_is_scheduled_for_unpublishing_event' => array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc st at line: 56
'label' => t('After updating existing content that is scheduled for unpublishing'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 56
'label' => t('After updating existing content that is scheduled for unpublishing'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 57
'group' => t('Scheduler'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 60
'scheduler_node_has_been_published_event' => array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 61
'label' => t('After a node has been published by Scheduler'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 62
'group' => t('Scheduler'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 65
'scheduler_node_has_been_unpublished_event' => array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 66
'label' => t('After a node has been unpublished by Scheduler'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 67
'group' => t('Scheduler'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 71
return $items;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 75
* Implements hook_rules_action_info().


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 77
function scheduler_rules_action_info() {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 78
// These actions can be added when building a reaction rule. Use a $defaults


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 79
// array to avoid duplication.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 80
$defaults = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 81
'parameter' => array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 83
'type' => 'node',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 84
// 'label' is shown as fieldset title after adding action.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 85
'label' => t('The node to be processed by Scheduler'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 86
// 'description' is shown beneath the label during add/edit.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 87
'description' => t('This can be a node object or node id'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 90
'group' => t('Scheduler'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 93
// 1. Action to set the publishing date.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 94
$actions['scheduler_set_publish_date_action'] = array('label' => t('Set publishing date')) + $defaults;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 95
$actions['scheduler_set_publish_date_action']['parameter']['date'] = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 96
'type' => 'date',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 97
'label' => t('The date for publishing'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 98
'description' => t('The date when Scheduler will publish the node'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 101
// 2. Action to set the unpublishing date.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 102
$actions['scheduler_set_unpublish_date_action'] = array('label' => t('Set unpublishing date')) + $defaults;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 103
$actions['scheduler_set_unpublish_date_action']['parameter']['date'] = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 104
'type' => 'date',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 105
'label' => t('The date for unpublishing'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 106
'description' => t('The date when Scheduler will unpublish the node'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 109
// 3. Action to remove the publishing date.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 110
$actions['scheduler_remove_publish_date_action'] = array('label' => t('Remove publishing date')) + $defaults;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 112
// 4. Action to remove the unpublishing date.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 113
$actions['scheduler_remove_unpublish_date_action'] = array('label' => t('Remove unpublishing date')) + $defaults;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 115
return $actions;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 119
* Set the publish_on date for the node.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 122
*   The node object to be scheduled for publishing.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 123
* @param $date


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc st at line: 124
*   The date for publishing, a unix timestamp integer.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 124
*   The date for publishing, a unix timestamp integer.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 126
function scheduler_set_publish_date_action($node, $date) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 127
// When this action is invoked and it operates on the node being editted then


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 128
// hook_node_presave() and hook_node_update() will be executed anyway. But if


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 129
// this action is being used to schedule a different node then we need to call


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 130
// the functions directly here.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 131
if (variable_get('scheduler_publish_enable_' . $node->type, 0)) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 132
$node->publish_on = $date;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 134
scheduler_node_update($node);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 137
$type_name = node_type_get_name($node->type);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc st at line: 138
watchdog('scheduler', 'Scheduled publishing is not enabled for %type content. To prevent this message add the condition "Scheduled publishing is enabled" to your Rule, or enable the Scheduler options via the %type content type settings.', array('%type' => $type_name), WATCHDOG_WARNING, l(t('@type settings', array('@type' => $type_name)), 'admin/structure/types/manage/' . $node->type));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 138
watchdog('scheduler', 'Scheduled publishing is not enabled for %type content. To prevent this message add the condition "Scheduled publishing is enabled" to your Rule, or enable the Scheduler options via the %type content type settings.', array('%type' => $type_name), WATCHDOG_WARNING, l(t('@type settings', array('@type' => $type_name)), 'admin/structure/types/manage/' . $node->type));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 143
* Set the unpublish_on date for the node.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 146
*   The node object to be scheduled for unpublishing.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 147
* @param $date


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc st at line: 148
*   The date for unpublishing, a unix timestamp integer.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 148
*   The date for unpublishing, a unix timestamp integer.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 150
function scheduler_set_unpublish_date_action($node, $date) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 151
if (variable_get('scheduler_unpublish_enable_' . $node->type, 0)) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 152
$node->unpublish_on = $date;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 154
scheduler_node_update($node);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 157
$type_name = node_type_get_name($node->type);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc st at line: 158
watchdog('scheduler', 'Scheduled unpublishing is not enabled for %type content. To prevent this message add the condition "Scheduled unpublishing is enabled" to your Rule, or enable the Scheduler options via the %type content type settings.', array('%type' => $type_name), WATCHDOG_WARNING, l(t('@type settings', array('@type' => $type_name)), 'admin/structure/types/manage/' . $node->type));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 158
watchdog('scheduler', 'Scheduled unpublishing is not enabled for %type content. To prevent this message add the condition "Scheduled unpublishing is enabled" to your Rule, or enable the Scheduler options via the %type content type settings.', array('%type' => $type_name), WATCHDOG_WARNING, l(t('@type settings', array('@type' => $type_name)), 'admin/structure/types/manage/' . $node->type));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 163
* Remove the publish_on date for the node.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 166
*   The node object from which to remove the publish_on date.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 168
function scheduler_remove_publish_date_action($node) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 169
if (variable_get('scheduler_publish_enable_' . $node->type, 0)) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 172
scheduler_node_update($node);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 175
$type_name = node_type_get_name($node->type);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc st at line: 176
watchdog('scheduler', 'Scheduled publishing is not enabled for %type content. To prevent this message add the condition "Scheduled publishing is enabled" to your Rule, or enable the Scheduler options via the %type content type settings.', array('%type' => $type_name), WATCHDOG_WARNING, l(t('@type settings', array('@type' => $type_name)), 'admin/structure/types/manage/' . $node->type));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 176
watchdog('scheduler', 'Scheduled publishing is not enabled for %type content. To prevent this message add the condition "Scheduled publishing is enabled" to your Rule, or enable the Scheduler options via the %type content type settings.', array('%type' => $type_name), WATCHDOG_WARNING, l(t('@type settings', array('@type' => $type_name)), 'admin/structure/types/manage/' . $node->type));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 181
* Remove the unpublish_on date for the node.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 184
*   The node object from which to remove the unpublish_on date.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 186
function scheduler_remove_unpublish_date_action($node) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 187
if (variable_get('scheduler_unpublish_enable_' . $node->type, 0)) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 190
scheduler_node_update($node);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 193
$type_name = node_type_get_name($node->type);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc st at line: 194
watchdog('scheduler', 'Scheduled unpublishing is not enabled for %type content. To prevent this message add the condition "Scheduled unpublishing is enabled" to your Rule, or enable the Scheduler options via the %type content type settings.', array('%type' => $type_name), WATCHDOG_WARNING, l(t('@type settings', array('@type' => $type_name)), 'admin/structure/types/manage/' . $node->type));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 194
watchdog('scheduler', 'Scheduled unpublishing is not enabled for %type content. To prevent this message add the condition "Scheduled unpublishing is enabled" to your Rule, or enable the Scheduler options via the %type content type settings.', array('%type' => $type_name), WATCHDOG_WARNING, l(t('@type settings', array('@type' => $type_name)), 'admin/structure/types/manage/' . $node->type));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 199
* Implements hook_rules_condition_info().


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 201
function scheduler_rules_condition_info() {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc st at line: 202
// Create a default, as most of the values are identical for all conditions.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 202
// Create a default, as most of the values are identical for all conditions.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 203
$default = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 204
'group' => t('Scheduler'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 205
'parameter' => array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 207
'type' => 'node',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc st at line: 208
'label' => t('The node to test for scheduling properties'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 208
'label' => t('The node to test for scheduling properties'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 209
'description' => t('This can be a node object or node id'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 214
// 1. Condition to check if publishing is enabled for the content type.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 215
$conditions['scheduler_condition_publishing_is_enabled'] = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 216
'label' => t('Scheduled publishing is enabled for this content type')) + $default;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 218
// 2. Condition to check if unpublishing is enabled for the content type.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 219
$conditions['scheduler_condition_unpublishing_is_enabled'] = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 220
'label' => t('Scheduled unpublishing is enabled for this content type')) + $default;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 222
// 3. Condition to check if the node is scheduled for publishing.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 223
$conditions['scheduler_condition_node_is_scheduled_for_publishing'] = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 224
'label' => t('The node is scheduled for publishing')) + $default;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 226
// 4. Condition to check if the node is scheduled for unpublishing.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 227
$conditions['scheduler_condition_node_is_scheduled_for_unpublishing'] = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 228
'label' => t('The node is scheduled for unpublishing')) + $default;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 230
return $conditions;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 234
* Determines whether scheduled publishing is enabled for this node type.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 237
*   A node object.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 238
* @return


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 239
*   TRUE if scheduled publishing is enabled for the node type, FALSE if not.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 241
function scheduler_condition_publishing_is_enabled($node) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 242
return (variable_get('scheduler_publish_enable_' . $node->type, 0) == 1);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 246
* Determines whether scheduled unpublishing is enabled for this node type.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 249
*   A node object.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 250
* @return


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 251
*   TRUE if scheduled unpublishing is enabled for the node type, FALSE if not.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 253
function scheduler_condition_unpublishing_is_enabled($node) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 254
return (variable_get('scheduler_unpublish_enable_' . $node->type, 0) == 1);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 258
* Determines whether a node is scheduled for publishing.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 261
*   A node object.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 262
* @return


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 263
*   TRUE if the node is scheduled for publishing, FALSE if not.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 265
function scheduler_condition_node_is_scheduled_for_publishing($node) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 266
return !empty($node->publish_on);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 270
* Determines whether a node is scheduled for unpublishing.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 273
*   A node object.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 274
* @return


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 275
*   TRUE if the node is scheduled for unpublishing, FALSE if not.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 277
function scheduler_condition_node_is_scheduled_for_unpublishing($node) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc t at line: 278
return !empty($node->unpublish_on);


[*] End report for /var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.rules.inc
=== 

/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 5
* Administration forms for the Scheduler module.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 5
* Administration forms for the Scheduler module.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 9
* Form constructor for the main admin form for configuring Scheduler.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 9
* Form constructor for the main admin form for configuring Scheduler.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 11
function scheduler_admin() {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 12
$now = t('Example: %date', array('%date' => format_date(REQUEST_TIME, 'custom', variable_get('scheduler_date_format', SCHEDULER_DATE_FORMAT))));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 12
$now = t('Example: %date', array('%date' => format_date(REQUEST_TIME, 'custom', variable_get('scheduler_date_format', SCHEDULER_DATE_FORMAT))));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 13
$form['scheduler_date_format'] = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 14
'#type' => 'textfield',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 15
'#title' => t('Date format'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 16
'#default_value' => variable_get('scheduler_date_format', SCHEDULER_DATE_FORMAT),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 18
'#maxlength' => 20,


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 21
'#description' => t('The format for entering scheduled dates and times. For the date use the letters !date_letters and for the time use !time_letters. See !url for more details.', array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 22
'!date_letters' => SCHEDULER_DATE_LETTERS,


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 23
'!time_letters' => SCHEDULER_TIME_LETTERS,


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 24
'!url' => l(t('the PHP date() function'), 'http://www.php.net/manual/en/function.date.php')


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 28
$form['scheduler_field_type'] = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 29
'#type' => 'radios',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 30
'#title' => t('Field type'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 31
'#default_value' => variable_get('scheduler_field_type', 'date_popup'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 32
'#options' => array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 33
'textfield' => t('Standard text field'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 34
'date_popup' => t('Date Popup calendar'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 36
'#description' => t('Date Popup is enabled. See the !date_popup_config for details.', array('!date_popup_config' => l(t('configuration page'), 'admin/config/date/date_popup'))),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 39
if (!module_exists('date_popup')) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 39
if (!module_exists('date_popup')) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 40
$form['scheduler_field_type']['#default_value'] = 'textfield';


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 41
$form['scheduler_field_type']['#disabled'] = TRUE;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 42
$form['scheduler_field_type']['#description'] = t('To use the calendar you need to enable Date, Date API and Date Popup. Download the module from the !url.', array('!url' => l(t('Date project page'), 'http://drupal.org/project/date')));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 45
// Variable 'date_popup_timepicker' holds the type of timepicker selected.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 46
$timepicker_enabled = (variable_get('date_popup_timepicker', '') != 'none');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 47
$options = array('@date_popup_config' => url('admin/config/date/date_popup'));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 48
$description = t('Restrict the time entry to specific minute increments.') . ' '


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 48
$description = t('Restrict the time entry to specific minute increments.') . ' '


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 49
. ($timepicker_enabled


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 50
? t('The timepicker type can be selected via the <a href="@date_popup_config">Date Popup configuration page</a>.', $options)


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 51
: t('The timepicker is not enabled - turn it on via the <a href="@date_popup_config">Date Popup configuration page</a>.', $options));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 52
$form['scheduler_date_popup_minute_increment'] = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 53
'#type' => 'textfield',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 54
'#title' => t('Date Popup minute increment'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 55
'#description' => $description,


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 56
'#field_suffix' => t('minutes'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 58
'#maxlength' => 2,


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 59
'#disabled' => !$timepicker_enabled,


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 60
'#default_value' => variable_get('scheduler_date_popup_minute_increment', 1),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 61
'#element_validate' => array('element_validate_integer_positive'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 62
'#states' => array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 62
'#states' => array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 64
':input[name="scheduler_field_type"]' => array('value' => 'date_popup'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 69
// Options for setting date-only with default time.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 70
$form['scheduler_date_only_fieldset'] = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 71
'#type' => 'fieldset',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 72
'#title' => t('Date only'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 75
$form['scheduler_date_only_fieldset']['scheduler_allow_date_only'] = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 76
'#type' => 'checkbox',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 77
'#title' => t('Allow users to enter only a date and provide a default time.'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 78
'#default_value' => variable_get('scheduler_allow_date_only', FALSE),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 79
'#description' => t('When only a date is entered the time will default to a specified value, but the user can change this if required.'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 81
$form['scheduler_date_only_fieldset']['scheduler_default_time'] = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 82
'#type' => 'textfield',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 83
'#title' => t('Default time'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 84
'#default_value' => variable_get('scheduler_default_time', SCHEDULER_DEFAULT_TIME),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 86
'#maxlength' => 20,


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 87
'#description' => t('This is the time that will be used if the user does not enter a value. Format: HH:MM:SS.'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 88
'#states' => array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 88
'#states' => array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 90
':input[name="scheduler_allow_date_only"]' => array('checked' => TRUE),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 95
$form['scheduler_extra_info'] = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 96
'#type' => 'textarea',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 97
'#title' => t('Extra Info'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 98
'#default_value' => variable_get('scheduler_extra_info', ''),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 99
'#description' => t('The text entered into this field will be displayed above the scheduling fields in the node edit form.'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 102
// Add a submit handler function.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 103
$form['#submit'][] = 'scheduler_admin_submit';


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 105
return system_settings_form($form);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 105
return system_settings_form($form);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 109
* Form validation handler for scheduler_admin().


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 111
function scheduler_admin_validate($form, &$form_state) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 111
function scheduler_admin_validate($form, &$form_state) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 112
// Replace all contiguous whitespaces (including tabs and newlines) with a


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 114
$form_state['values']['scheduler_date_format'] = trim(preg_replace('/\s+/', ' ', $form_state['values']['scheduler_date_format']));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 114
$form_state['values']['scheduler_date_format'] = trim(preg_replace('/\s+/', ' ', $form_state['values']['scheduler_date_format']));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 116
// Validate the letters used in the scheduler date format. All punctuation is


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 117
// accepted, so remove everything except word characters then check that there


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 118
// is nothing else which is not in the list of acceptable date/time letters.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 118
// is nothing else which is not in the list of acceptable date/time letters.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 119
$no_punctuation = preg_replace('/[^\w+]/', '', $form_state['values']['scheduler_date_format']);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 119
$no_punctuation = preg_replace('/[^\w+]/', '', $form_state['values']['scheduler_date_format']);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 120
if (preg_match_all('/[^' . SCHEDULER_DATE_LETTERS . SCHEDULER_TIME_LETTERS . ']/', $no_punctuation, $extra)) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 121
form_set_error('scheduler_date_format', t('You may only use the letters $date_letters for the date and $time_letters for the time. Remove the extra characters $extra', array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 122
'$date_letters' => SCHEDULER_DATE_LETTERS,


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 123
'$time_letters' => SCHEDULER_TIME_LETTERS,


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 124
'$extra' => implode(' ', $extra[0]),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc get_t at line: 128
$time_format = scheduler_get_time_only_format($form_state['values']['scheduler_date_format']);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 128
$time_format = scheduler_get_time_only_format($form_state['values']['scheduler_date_format']);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 128
$time_format = scheduler_get_time_only_format($form_state['values']['scheduler_date_format']);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 130
if ($form_state['values']['scheduler_field_type'] == 'date_popup') {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 130
if ($form_state['values']['scheduler_field_type'] == 'date_popup') {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 131
// The Date Popup function date_popup_time_formats() only returns the values


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 132
// 'H:i:s' and 'h:i:sA' but Scheduler can accept more variations than just


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 132
// 'H:i:s' and 'h:i:sA' but Scheduler can accept more variations than just


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 133
// these. Firstly, we add the lowercase 'a' alternative. Secondly timepicker


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 133
// these. Firstly, we add the lowercase 'a' alternative. Secondly timepicker


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 134
// always requires hours and minutes, but seconds are optional.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 135
$acceptable = array('H:i:s', 'h:i:sA', 'h:i:sa', 'H:i', 'h:iA', 'h:ia');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 137
if ($time_format && !in_array($time_format, $acceptable)) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 138
form_set_error('scheduler_date_format', t('When using the Date Popup module, the allowed time formats are: !formats', array('!formats' => implode(', ', $acceptable))));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 142
// If date-only is enabled then check if a valid default time was entered.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 143
// Leading zeros and seconds can be omitted, eg. 6:30 is considered valid.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 144
if ($form_state['values']['scheduler_allow_date_only']) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 144
if ($form_state['values']['scheduler_allow_date_only']) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 145
$default_time = date_parse($form_state['values']['scheduler_default_time']);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 145
$default_time = date_parse($form_state['values']['scheduler_default_time']);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 146
if ($default_time['error_count']) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 147
form_set_error('scheduler_default_time', t('The default time should be in the format HH:MM:SS'));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 150
// Insert any possibly omitted leading zeroes.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 151
$unix_time = mktime($default_time['hour'], $default_time['minute'], $default_time['second']);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 152
$form_state['values']['scheduler_default_time'] = format_date($unix_time, 'custom', 'H:i:s');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 152
$form_state['values']['scheduler_default_time'] = format_date($unix_time, 'custom', 'H:i:s');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 156
// Check that either the date format has a time part or the date-only option


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 157
// is turned on.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 158
if ($time_format == '' && !$form_state['values']['scheduler_allow_date_only']) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 158
if ($time_format == '' && !$form_state['values']['scheduler_allow_date_only']) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 159
form_set_error('scheduler_date_format', t('You must either include a time within the date format or enable the date-only option.'));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 159
form_set_error('scheduler_date_format', t('You must either include a time within the date format or enable the date-only option.'));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 166
function scheduler_admin_submit($form, &$form_state) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 166
function scheduler_admin_submit($form, &$form_state) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 167
// For the minute increment, change a blank value to 1. Date popup does not


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 168
// support blank values.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 169
if (empty($form_state['values']['scheduler_date_popup_minute_increment'])) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 169
if (empty($form_state['values']['scheduler_date_popup_minute_increment'])) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 170
$form_state['values']['scheduler_date_popup_minute_increment'] = 1;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 170
$form_state['values']['scheduler_date_popup_minute_increment'] = 1;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 173
// Extract the date part and time part of the full format, for use with the


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 174
// default time functionality. Assume the date and time time parts begin and


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 175
// end with a letter, but any punctuation between these will be retained.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 176
$format = $form_state['values']['scheduler_date_format'];


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 176
$format = $form_state['values']['scheduler_date_format'];


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc get_t at line: 177
$time_only_format = scheduler_get_time_only_format($format);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 177
$time_only_format = scheduler_get_time_only_format($format);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 178
variable_set('scheduler_time_only_format', $time_only_format);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 180
$date_only_format = scheduler_get_date_only_format($format);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 181
variable_set('scheduler_date_only_format', $date_only_format);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 183
if (empty($time_only_format)) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 184
drupal_set_message(t('The date part of the Scheduler format is %date_part. There is no time part', array('%date_part' => $date_only_format)));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 187
drupal_set_message(t('The date part of the Scheduler format is %date_part and the time part is %time_part.', array('%date_part' => $date_only_format, '%time_part' => $time_only_format)));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 192
* Returns the time part of a date format.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 194
* For example, when given the string 'Y-m-d H:s:i' it will return 'H:s:i'.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 194
* For example, when given the string 'Y-m-d H:s:i' it will return 'H:s:i'.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 196
* @param string $format


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 196
* @param string $format


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 197
*   A date format compatible with the PHP date() function.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 199
* @return string


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 199
* @return string


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 200
*   The time part of the date format, or an empty string if it does not contain


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 200
*   The time part of the date format, or an empty string if it does not contain


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 201
*   a time part.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc get_t at line: 203
function scheduler_get_time_only_format($format) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 203
function scheduler_get_time_only_format($format) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 204
$time_start = strcspn($format, SCHEDULER_TIME_LETTERS);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 204
$time_start = strcspn($format, SCHEDULER_TIME_LETTERS);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 205
$time_length = strlen($format) - strcspn(strrev($format), SCHEDULER_TIME_LETTERS) - $time_start;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 205
$time_length = strlen($format) - strcspn(strrev($format), SCHEDULER_TIME_LETTERS) - $time_start;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 206
return substr($format, $time_start, $time_length);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 206
return substr($format, $time_start, $time_length);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 210
* Returns the date part of a date format.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 212
* For example, when given the string 'Y-m-d H:s:i' it will return 'Y-m-d'.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 212
* For example, when given the string 'Y-m-d H:s:i' it will return 'Y-m-d'.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 214
* @param string $format


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 214
* @param string $format


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 215
*   A date format compatible with the PHP date() function.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 217
* @return string


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 217
* @return string


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 218
*   The date part of the date format, or an empty string if it does not contain


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 218
*   The date part of the date format, or an empty string if it does not contain


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 219
*   a date part.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 221
function scheduler_get_date_only_format($format) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 222
$date_start = strcspn($format, SCHEDULER_DATE_LETTERS);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 222
$date_start = strcspn($format, SCHEDULER_DATE_LETTERS);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 223
$date_length = strlen($format) - strcspn(strrev($format), SCHEDULER_DATE_LETTERS) - $date_start;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 223
$date_length = strlen($format) - strcspn(strrev($format), SCHEDULER_DATE_LETTERS) - $date_start;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 224
return substr($format, $date_start, $date_length);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 224
return substr($format, $date_start, $date_length);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 228
* Helper function for the real hook_form_node_type_form_alter().


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 230
* @see scheduler_form_node_type_form_alter()


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 232
function _scheduler_form_node_type_form_alter(&$form, $form_state) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 232
function _scheduler_form_node_type_form_alter(&$form, $form_state) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 234
'#type' => 'fieldset',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 235
'#title' => t('Scheduler'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 236
'#weight' => 35,


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 237
'#group' => 'additional_settings',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 238
'#attached' => array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 240
'vertical-tabs' => drupal_get_path('module', 'scheduler') . "/scheduler_vertical_tabs.js",


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 246
'#type' => 'fieldset',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 247
'#title' => t('Publishing'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 249
'#weight' => 1,


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 253
'#type' => 'checkbox',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 254
'#title' => t('Enable scheduled publishing for this content type'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 255
'#default_value' => variable_get('scheduler_publish_enable_' . $form['#node_type']->type, 0),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 257
$form['scheduler']['publish']['scheduler_publish_touch'] = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 258
'#type' => 'checkbox',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 259
'#title' => t('Change content creation time to match the scheduled publish time'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 260
'#default_value' => variable_get('scheduler_publish_touch_' . $form['#node_type']->type, 0),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 261
'#states' => array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 261
'#states' => array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 263
':input[name="scheduler_publish_enable"]' => array('checked' => TRUE),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 268
'#type' => 'checkbox',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 269
'#title' => t('Require scheduled publishing'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 270
'#default_value' => variable_get('scheduler_publish_required_' . $form['#node_type']->type, 0),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 271
'#states' => array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 271
'#states' => array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 273
':input[name="scheduler_publish_enable"]' => array('checked' => TRUE),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 278
'#type' => 'checkbox',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 279
'#title' => t('Create a new revision on publishing'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 280
'#default_value' => variable_get('scheduler_publish_revision_' . $form['#node_type']->type, 0),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 281
'#states' => array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 281
'#states' => array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 283
':input[name="scheduler_publish_enable"]' => array('checked' => TRUE),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 288
'#type' => 'fieldset',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 289
'#title' => t('Advanced options'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 292
'#states' => array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 292
'#states' => array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 294
':input[name="scheduler_publish_enable"]' => array('checked' => TRUE),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 298
$form['scheduler']['publish']['advanced']['scheduler_publish_past_date'] = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 298
$form['scheduler']['publish']['advanced']['scheduler_publish_past_date'] = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 299
'#type' => 'radios',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 300
'#title' => t('Action to be taken for publication dates in the past'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 300
'#title' => t('Action to be taken for publication dates in the past'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 301
'#default_value' => variable_get('scheduler_publish_past_date_' . $form['#node_type']->type, 'error'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 301
'#default_value' => variable_get('scheduler_publish_past_date_' . $form['#node_type']->type, 'error'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 302
'#options' => array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 303
'error' => t('Display an error message - do not allow dates in the past'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 303
'error' => t('Display an error message - do not allow dates in the past'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 304
'publish' => t('Publish the content immediately after saving'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 305
'schedule' => t('Schedule the content for publication on the next cron run'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 309
'#type' => 'fieldset',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 310
'#title' => t('Unpublishing'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 312
'#weight' => 2,


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 316
'#type' => 'checkbox',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 317
'#title' => t('Enable scheduled unpublishing for this content type'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 318
'#default_value' => variable_get('scheduler_unpublish_enable_' . $form['#node_type']->type, 0),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 321
'#type' => 'checkbox',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 322
'#title' => t('Require scheduled unpublishing'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 323
'#default_value' => variable_get('scheduler_unpublish_required_' . $form['#node_type']->type, 0),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 324
'#states' => array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 324
'#states' => array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 326
':input[name="scheduler_unpublish_enable"]' => array('checked' => TRUE),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 331
'#type' => 'checkbox',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 332
'#title' => t('Create a new revision on unpublishing'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 333
'#default_value' => variable_get('scheduler_unpublish_revision_' . $form['#node_type']->type, 0),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 334
'#states' => array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 334
'#states' => array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 336
':input[name="scheduler_unpublish_enable"]' => array('checked' => TRUE),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 340
// The 'node_edit_layout' fieldset contains options to alter the layout of


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 341
// node edit pages.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 342
$form['scheduler']['node_edit_layout'] = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 343
'#type' => 'fieldset',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 344
'#title' => t('Node edit page layout'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 346
'#weight' => 3,


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 348
// The #states processing only caters for AND and does not do OR. So to set


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 348
// The #states processing only caters for AND and does not do OR. So to set


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 349
// the state to visible if either of the boxes are ticked we use the fact


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 349
// the state to visible if either of the boxes are ticked we use the fact


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 350
// that logical 'X = A or B' is equivalent to 'not X = not A and not B'.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 351
'#states' => array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 351
'#states' => array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 353
':input[name="scheduler_publish_enable"]' => array('!checked' => TRUE),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 354
':input[name="scheduler_unpublish_enable"]' => array('!checked' => TRUE),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 358
$form['scheduler']['node_edit_layout']['scheduler_use_vertical_tabs'] = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 359
'#type' => 'radios',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 360
'#title' => t('Display scheduling options as'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 361
'#default_value' => variable_get('scheduler_use_vertical_tabs_' . $form['#node_type']->type, 1),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 362
'#options' => array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 363
'1' => t('Vertical tab'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 364
'0' => t('Separate fieldset'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 366
'#description' => t('Use this option to specify how the scheduling options will be displayed when editing a node.'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 368
$form['scheduler']['node_edit_layout']['scheduler_expand_fieldset'] = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 369
'#type' => 'radios',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 370
'#title' => t('Expand fieldset'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 371
'#default_value' => variable_get('scheduler_expand_fieldset_' . $form['#node_type']->type, 0),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 372
'#options' => array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 373
'0' => t('Expand only when a scheduled date exists or when a date is required'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 373
'0' => t('Expand only when a scheduled date exists or when a date is required'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 374
'1' => t('Always open the fieldset, even if no dates exist'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 374
'1' => t('Always open the fieldset, even if no dates exist'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 376
'#states' => array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 376
'#states' => array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 378
':input[name="scheduler_use_vertical_tabs"]' => array('value' => '0'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 385
* Form constructor for the lightweight cron form to allow a manual run.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 385
* Form constructor for the lightweight cron form to allow a manual run.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 387
function _scheduler_lightweight_cron($form, &$form_state) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 387
function _scheduler_lightweight_cron($form, &$form_state) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 390
'#type' => 'submit',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 391
'#prefix' => '<div class="container-inline">' . t("You can test Scheduler's lightweight cron process interactively") . ': ',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 391
'#prefix' => '<div class="container-inline">' . t("You can test Scheduler's lightweight cron process interactively") . ': ',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 392
'#value' => t("Run Scheduler's lightweight cron now"),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 393
'#submit' => array('_scheduler_lightweight_cron_submit'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 396
$form['scheduler_cron_settings'] = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 397
'#type' => 'fieldset',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 398
'#title' => t('Lightweight cron settings'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 400
$form['scheduler_cron_settings']['scheduler_lightweight_log'] = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 401
'#type' => 'checkbox',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 402
'#title' => t('Log every activation and completion message.'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 403
'#default_value' => variable_get('scheduler_lightweight_log', 1),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 404
'#description' => t("When this option is checked, Scheduler will write an entry to the log every time the lightweight cron process is started and completed. This is useful during set up and testing, but can result in a large number of log entries. Any actions performed during the lightweight cron run will always be logged regardless of this setting."),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 404
'#description' => t("When this option is checked, Scheduler will write an entry to the log every time the lightweight cron process is started and completed. This is useful during set up and testing, but can result in a large number of log entries. Any actions performed during the lightweight cron run will always be logged regardless of this setting."),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 406
$form['scheduler_cron_settings']['scheduler_cache_clear_all'] = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 407
'#type' => 'checkbox',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 408
'#title' => t('Clear all expired block and page caches after publishing or unpublishing via cron.'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 409
'#default_value' => variable_get('scheduler_cache_clear_all', 0),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 410
'#description' => t('If a node has been published or unpublished by Scheduler during a cron run, this option will clear the caches instead of relying on the Drupal core system cron task. Warning: This may have a detrimental effect on performance for large sites.'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 410
'#description' => t('If a node has been published or unpublished by Scheduler during a cron run, this option will clear the caches instead of relying on the Drupal core system cron task. Warning: This may have a detrimental effect on performance for large sites.'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 412
$form['scheduler_cron_settings']['scheduler_lightweight_access_key'] = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 413
'#type' => 'textfield',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 414
'#title' => t('Lightweight cron access key'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 416
'#default_value' => variable_get('scheduler_lightweight_access_key', ''),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 417
'#description' => t("Similar to Drupal's cron key this acts as a security token to prevent unauthorised calls to scheduler/cron. The key should be passed as scheduler/cron/&lt;this key&gt;. To disable security for lightweight cron leave this field blank."),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 419
if (isset($form_state['scheduler_generate_new_key'])) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 419
if (isset($form_state['scheduler_generate_new_key'])) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 420
$new_access_key = substr(md5(rand()), 0, 20);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 420
$new_access_key = substr(md5(rand()), 0, 20);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 421
$form_state['input']['scheduler_lightweight_access_key'] = $new_access_key;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 421
$form_state['input']['scheduler_lightweight_access_key'] = $new_access_key;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 422
drupal_set_message(t('A new random key has been generated but not saved. If you wish to use this, first "Save Configuration" to store the value, then modify your crontab job.'), 'warning');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 422
drupal_set_message(t('A new random key has been generated but not saved. If you wish to use this, first "Save Configuration" to store the value, then modify your crontab job.'), 'warning');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 424
$form['scheduler_cron_settings']['create_key'] = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 425
'#type' => 'submit',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 426
'#value' => t('Generate new random key'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 427
'#submit' => array('_scheduler_generate_key'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 429
return system_settings_form($form);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 429
return system_settings_form($form);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 433
* Form submission handler for _scheduler_lightweight_cron().


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 435
function _scheduler_lightweight_cron_submit() {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 436
// Load the cron functions file.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 442
* Form submission handler for _scheduler_lightweight_cron().


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 444
* This only fires when the 'Generate new random key' button is clicked.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 446
function _scheduler_generate_key($form, &$form_state) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 446
function _scheduler_generate_key($form, &$form_state) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 447
// Everything in $form_state is persistent, so we can use a direct attribute.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 447
// Everything in $form_state is persistent, so we can use a direct attribute.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 448
$form_state['scheduler_generate_new_key'] = TRUE;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 448
$form_state['scheduler_generate_new_key'] = TRUE;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 449
// Setting $form_state['rebuild'] = TRUE causes the form to be rebuilt again.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 449
// Setting $form_state['rebuild'] = TRUE causes the form to be rebuilt again.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 450
$form_state['rebuild'] = TRUE;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 450
$form_state['rebuild'] = TRUE;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 454
* Page callback: Generate the timecheck admin page.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 456
function _scheduler_timecheck() {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 457
return theme('scheduler_timecheck', array('now' => REQUEST_TIME));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 461
* Returns HTML the timecheck administration page.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 461
* Returns HTML the timecheck administration page.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 464
*   An associative array containing:


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 465
*   - 'now': A UNIX timestamp to format.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 465
*   - 'now': A UNIX timestamp to format.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 467
* @ingroup themeable


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 469
function theme_scheduler_timecheck($variables) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 473
$date_default_timezone = variable_get('date_default_timezone', date_default_timezone_get());


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 475
$t_options = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 476
// For @utc specify 'GMT' as the timezone (4th parameter) so that no


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 477
// timezone offset is returned.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 478
'@utc' => format_date($now, 'custom', 'jS F Y, H:i:s P', 'GMT'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 478
'@utc' => format_date($now, 'custom', 'jS F Y, H:i:s P', 'GMT'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 479
// For @localtime do not specify any timezone parameter so that the user or


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 480
// site default setting is returned.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 481
'@localtime' => format_date($now, 'custom', 'jS F Y, H:i:s P T e'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 481
'@localtime' => format_date($now, 'custom', 'jS F Y, H:i:s P T e'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 482
'@daylight_saving' => format_date($now, 'custom', 'I') ? t('currently in daylight saving mode') : t('not in daylight saving mode'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 482
'@daylight_saving' => format_date($now, 'custom', 'I') ? t('currently in daylight saving mode') : t('not in daylight saving mode'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 483
'@user_account' => url('user/' . $user->uid . '/edit'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc check_plain at line: 484
'@date_default_timezone' => check_plain($date_default_timezone),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 484
'@date_default_timezone' => check_plain($date_default_timezone),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 485
'@date_default_offset' => format_date($now, 'custom', 'P', $date_default_timezone),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 485
'@date_default_offset' => format_date($now, 'custom', 'P', $date_default_timezone),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 486
'@date_default_code' => format_date($now, 'custom', 'T', $date_default_timezone),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 486
'@date_default_code' => format_date($now, 'custom', 'T', $date_default_timezone),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 487
'@admin_regional_settings' => url('admin/config/regional/settings'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 490
$output = '<h4>' . t('Time check') . '</h4>'


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 491
. '<p>' . t('Your server\'s time is @utc. In most cases this should match <a href="https://www.google.com/search?q=Greenwich%20Mean%20Time">Greenwich Mean Time (GMT) / Coordinated Universal Time (UTC)</a>', $t_options) . '</p>'


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 491
. '<p>' . t('Your server\'s time is @utc. In most cases this should match <a href="https://www.google.com/search?q=Greenwich%20Mean%20Time">Greenwich Mean Time (GMT) / Coordinated Universal Time (UTC)</a>', $t_options) . '</p>'


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 492
. '<p>' . t('The website default timezone is @date_default_timezone (@date_default_code) which is offset from GMT by @date_default_offset hours. This timezone can be <a href="@admin_regional_settings">changed by admin users</a> with the appropriate access.', $t_options) . '</p>';


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 494
if (variable_get('configurable_timezones', 1)) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 495
$output .= '<p>' . t('Your local time is @localtime (@daylight_saving). You can change this via your <a href="@user_account">user account</a>.', $t_options) . '</p>';


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 496
if (empty($user->timezone)) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 497
$output .= '<p>' . t('Note: The user timezone has not been stored, so defaulting to the website timezone.') . '</p>';


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 497
$output .= '<p>' . t('Note: The user timezone has not been stored, so defaulting to the website timezone.') . '</p>';


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 501
$output .= '<p>' . t('Your local time is @localtime (@daylight_saving). This is not configurable by you.', $t_options) . '</p>';


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 504
return $output;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 508
* Page callback: Displays a list of nodes scheduled for (un)publication.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 508
* Page callback: Displays a list of nodes scheduled for (un)publication.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 510
* This will appear as a tab on the Scheduler admin page at


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 511
* admin/config/content/scheduler/list and the content admin page at


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 511
* admin/config/content/scheduler/list and the content admin page at


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 512
* admin/content/scheduler. It is also shown on the 'My account' page


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 513
* user/{uid}/scheduler if the user has permission to schedule content.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 515
* @param string


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 515
* @param string


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 516
*   'user_only' if viewing a user page, NULL otherwise.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 518
* @param int


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 519
*   The uid when viewing a user page, NULL otherwise.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 521
* @return array


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 522
*   A render array for a page containing a list of nodes.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 522
*   A render array for a page containing a list of nodes.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 524
function scheduler_list() {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 524
function scheduler_list() {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 527
'data' => t('Title'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 528
'field' => 'n.title',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 531
'data' => t('Type'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 532
'field' => 'n.type',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 535
'data' => t('Author'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 539
'data' => t('Status'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 540
'field' => 'n.status',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 540
'field' => 'n.status',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 543
'data' => t('Publish on'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 547
'data' => t('Unpublish on'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 551
'data' => t('Operations'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 555
// Default ordering.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 556
if (!isset($_GET['order']) && !isset($_GET['sort'])) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 557
$_GET['order'] = t('Publish on');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 558
$_GET['sort'] = 'ASC';


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 561
$query = db_select('scheduler', 's')->extend('PagerDefault');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 562
$query->limit(50);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 566
$query->fields('n', array('uid', 'status', 'title', 'type', 'status'));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 566
$query->fields('n', array('uid', 'status', 'title', 'type', 'status'));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 569
// If this function is being called from a user account page then only select


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 570
// the nodes owned by that user. If the current user is viewing another users'


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 571
// profile and they do not have 'administer nodes' permission then it won't


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 571
// profile and they do not have 'administer nodes' permission then it won't


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 572
// even get this far, as the tab will not be accessible.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 573
$args = func_get_args();


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 575
$query->condition('n.uid', $args[1], '=');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 576
// Get user account for use later.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 579
$query = $query->extend('TableSort')->orderByHeader($header);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 580
$result = $query->execute();


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 581
$destination = drupal_get_destination();


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 581
$destination = drupal_get_destination();


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 584
foreach ($result as $node) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 585
// Check the access allowed on this node.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 586
$can_edit = node_access('update', $node);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 587
$can_delete = node_access('delete', $node);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 588
// Set the operations depending on whether the node is valid or corrupt.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 590
if ($node->type) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 591
// Node type is present so this indicates a valid join with the node


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 592
// table. Provide regular operations to edit and delete the node.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 593
if ($can_edit) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 594
$ops[] = l(t('edit'), 'node/' . $node->nid . '/edit', array('query' => $destination));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 594
$ops[] = l(t('edit'), 'node/' . $node->nid . '/edit', array('query' => $destination));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 596
if ($can_delete) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 597
$ops[] = l(t('delete'), 'node/' . $node->nid . '/delete', array('query' => $destination));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 597
$ops[] = l(t('delete'), 'node/' . $node->nid . '/delete', array('query' => $destination));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 601
// There was no matching row in the node table. Provide a special link to


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 602
// delete the row from the Scheduler table.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 603
if ($can_delete) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 604
$ops[] = l(t('delete'), 'admin/content/scheduler/delete/' . $node->nid, array('query' => $destination));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 604
$ops[] = l(t('delete'), 'admin/content/scheduler/delete/' . $node->nid, array('query' => $destination));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 609
($node->title ? l($node->title, "node/$node->nid") : t('Missing data for node @nid', array('@nid' => $node->nid))),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc check_plain at line: 610
($node->type ? check_plain(node_type_get_name($node)) : ''),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 610
($node->type ? check_plain(node_type_get_name($node)) : ''),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 611
($node->type ? theme('username', array('account' => $node)) : ''),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 612
($node->type ? ($node->status ? t('Published') : t('Unpublished')) : ''),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 612
($node->type ? ($node->status ? t('Published') : t('Unpublished')) : ''),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 613
($node->publish_on ? format_date($node->publish_on) : '&nbsp;'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 614
($node->unpublish_on ? format_date($node->unpublish_on) : '&nbsp;'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 618
if (count($rows) && ($pager = theme('pager'))) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 621
'data' => $pager,


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 622
'colspan' => count($rows['0']),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 626
$build['scheduler_list'] = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 626
$build['scheduler_list'] = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 627
'#theme' => 'table',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 630
'#empty' => ($args[0] == 'user_only') ? t('There are no scheduled nodes for @username.', array('@username' => $user->name)) : t('There are no scheduled nodes.'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 632
return $build;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 636
* Form constructor for the Scheduler Delete Row confirmation form.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 636
* Form constructor for the Scheduler Delete Row confirmation form.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 638
* @see _scheduler_delete_row_confirm_submit()


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 640
function _scheduler_delete_row_confirm($form, &$form_state, $nid) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 640
function _scheduler_delete_row_confirm($form, &$form_state, $nid) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 641
$form['nid'] = array('#type' => 'value', '#value' => $nid);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 642
$details = array(t('Are you sure you want to delete the Scheduler row for missing node @nid?', array('@nid' => $nid)));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 643
$details[] = t('This action cannot be undone.');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 644
return confirm_form(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 646
$details[0],


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 647
// The cancel path will be changed automatically because the calling url


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 648
// contains a destination value. We need to provide a default here anyway.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 648
// contains a destination value. We need to provide a default here anyway.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 649
'admin/content/scheduler',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 650
implode('<br>', $details),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 651
t('Delete'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 652
t('Cancel')


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 657
* Form submission handler for _scheduler_delete_row_confirm().


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 659
function _scheduler_delete_row_confirm_submit($form, &$form_state) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 659
function _scheduler_delete_row_confirm_submit($form, &$form_state) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 660
// This is a special case, where we only want to delete the row in the


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 661
// Scheduler table. The associated node does not exist any more so we cannot


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 661
// Scheduler table. The associated node does not exist any more so we cannot


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 662
// use the normal node/$nid/delete process as that requires a node object.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 663
if ($form_state['values']['confirm']) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 663
if ($form_state['values']['confirm']) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc st at line: 664
$nid = $form_state['values']['nid'];


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 664
$nid = $form_state['values']['nid'];


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 665
db_delete('scheduler')->condition('nid', $nid)->execute();


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 666
watchdog('scheduler', 'Row for missing node @nid deleted from scheduler table.', array('@nid' => $nid));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc t at line: 667
drupal_set_message(t('The scheduler data for missing node @nid has been deleted.', array('@nid' => $nid)));


[*] End report for /var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.admin.inc
=== 

/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 5
* Display scheduled dates in 'countdown' format for use in Views.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 11
* Field handler to display a countdown until a scheduled action.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 13
* Defines class scheduler_handler_field_scheduler_countdown.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc st at line: 15
* @see http://www.ericschaefer.org/blog/2011/01/09/custom-field-handlers-for-views-2-drupal


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 15
* @see http://www.ericschaefer.org/blog/2011/01/09/custom-field-handlers-for-views-2-drupal


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 17
class scheduler_handler_field_scheduler_countdown extends views_handler_field {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc st at line: 25
* Add the timestamp_field into the SQL query.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 25
* Add the timestamp_field into the SQL query.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 27
* It is calculated as publish_on - REQUEST_TIME so the result is the number


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc st at line: 28
* of seconds from now until publishing. If publish_on is in the past then


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 28
* of seconds from now until publishing. If publish_on is in the past then


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 29
* NULL is returned.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 31
function query() {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 32
$this->ensure_my_table();


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 33
$this->node_table = $this->query->ensure_table('node', $this->relationship);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc st at line: 34
$time_field = $this->definition['timestamp_field'];


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 34
$time_field = $this->definition['timestamp_field'];


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 35
$this->field_alias = $this->query->add_field(NULL, 'CASE WHEN (' . $time_field . ' > ' . REQUEST_TIME . ') THEN (' . $time_field . ' - ' . REQUEST_TIME . ') ELSE NULL END', $this->table_alias . '_' . $this->field);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 39
* Define our display options and provide defaults.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 41
* @return array


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 42
*   An associative array containing the options.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 44
function option_definition() {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 45
$options = parent::option_definition();


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 46
$options['countdown_display'] = array('default' => 'smart');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 47
$options['units_display'] = array('default' => 'long');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 48
return $options;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 52
* Defines the form for the user to select the display options.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc st at line: 54
function options_form(&$form, &$form_state) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 54
function options_form(&$form, &$form_state) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc st at line: 55
parent::options_form($form, $form_state);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 55
parent::options_form($form, $form_state);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 56
$form['countdown_display'] = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 57
'#title' => t('Display countdown as'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 58
'#type' => 'radios',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 59
'#options' => array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 60
'smart' => t('Smart mode'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 61
'seconds' => t('Seconds'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 62
'minutes' => t('Minutes'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 63
'hours' => t('Hours'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 64
'days' => t('Days'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 65
'weeks' => t('Weeks'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 67
'#default_value' => $this->options['countdown_display'],


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 69
$form['units_display'] = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 70
'#title' => t('Display time units'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 71
'#type' => 'radios',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 72
'#options' => array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 73
'long' => t('Long (for example 3 days)'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 74
'short' => t('Short (for example 3d)'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 75
'none' => t('No units at all'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 77
'#default_value' => $this->options['units_display'],


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 82
* Callback function to keep only the array scale values which are smaller


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 83
* than the countdown value being displayed.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 85
function scale_filter_callback($array_value) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 86
return ($this->raw_value >= $array_value);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 90
* Renders the countdown value in the units required.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 92
function render($values) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 93
$countdown_display = $this->options['countdown_display'];


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 94
$this->raw_value = $values->{$this->field_alias};


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 100
'minutes' => self::MINUTE_SCALE,


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 103
// If the field has been set to 'Smart', determine the right timescale.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 104
if ($countdown_display == 'smart') {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 105
$scales = array_filter($scales, array($this, 'scale_filter_callback'));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 106
$scale = empty($scales) ? self::SECOND_SCALE : reset($scales);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc st at line: 108
// Otherwise use the fixed display requested.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 108
// Otherwise use the fixed display requested.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 110
$scale = $scales[$countdown_display];


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 113
// Get the display value by dividing the original value by the scale.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 114
$scaled_value = round($this->raw_value / $scale);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 116
switch ($scale) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 118
$long = format_plural($scaled_value, '1 second', '@count seconds', array('@count' => $scaled_value));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 119
$short = t('@counts', array('@count' => $scaled_value));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 123
$long = format_plural($scaled_value, '1 minute', '@count minutes', array('@count' => $scaled_value));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 124
$short = t('@countm', array('@count' => $scaled_value));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 128
$long = format_plural($scaled_value, '1 hour', '@count hours', array('@count' => $scaled_value));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 129
$short = t('@counth', array('@count' => $scaled_value));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 133
$long = format_plural($scaled_value, '1 day', '@count days', array('@count' => $scaled_value));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 134
$short = t('@countd', array('@count' => $scaled_value));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 138
$long = format_plural($scaled_value, '1 week', '@count weeks', array('@count' => $scaled_value));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 139
$short = t('@countw', array('@count' => $scaled_value));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 143
switch ($this->options['units_display']) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 145
return $long;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 147
case 'short':


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 148
return $short;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 150
default:


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc t at line: 151
return $scaled_value;


[*] End report for /var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler_handler_field_scheduler_countdown.inc
=== 

/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 5
* Views integration file for Scheduler module.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 9
* Implements hook_views_data().


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 11
function scheduler_views_data() {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 12
$tables['scheduler']['table']['group'] = t('Scheduler');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 14
// Advertise the Scheduler table as a possible base table.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 15
// @see https://www.drupal.org/node/2611712


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 16
$tables['scheduler']['table']['base'] = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 18
'title' => t('Content via Scheduler'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 19
'help' => t('Display node data using the Scheduler table as the base table'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 22
// Define how the Scheduler table is linked to the node table. This is used


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 23
// for the normal 'content' view when 'node' is the base table.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 24
$tables['scheduler']['table']['join']['node'] = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 25
'left_field' => 'nid',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 29
// Define how the node table is linked to the Scheduler table. This is needed


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 30
// when 'scheduler' is the base table, to give access to the node fields.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 31
$tables['node']['table']['join']['scheduler'] = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 32
'left_field' => 'nid',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 34
'type' => 'inner', // to exclude any bad data rows in the scheduler table.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 37
// Describe the two fields in the Scheduler database table.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 38
$tables['scheduler']['publish_on'] = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 39
'title' => t('Publish on'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 40
'help' => t('Date/time on which the article will be automatically published'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 42
'handler' => 'views_handler_field_date',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 43
'click sortable' => TRUE,


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 45
'filter' => array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 46
'handler' => 'views_handler_filter_date',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 47
'label' => t('Publish on'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 48
'allow empty' => TRUE,


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 50
'sort' => array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 51
'handler' => 'views_handler_sort_date',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 55
$tables['scheduler']['unpublish_on'] = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 56
'title' => t('Unpublish on'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 57
'help' => t('Date/time on which the article will be automatically unpublished'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 59
'handler' => 'views_handler_field_date',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 60
'click sortable' => TRUE,


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 62
'filter' => array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 63
'handler' => 'views_handler_filter_date',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 64
'label' => t('Unpublish on'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 65
'allow empty' => TRUE,


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 67
'sort' => array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 68
'handler' => 'views_handler_sort_date',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 72
// Describe the two extra derived fields provided for Views.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 73
$tables['scheduler']['publish_countdown'] = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 74
'title' => t('Publish countdown'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 75
'help' => t('Time until the article will be automatically published'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 77
'handler' => 'scheduler_handler_field_scheduler_countdown',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 78
'click sortable' => FALSE,


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc st at line: 79
'timestamp_field' => 'publish_on',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 79
'timestamp_field' => 'publish_on',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 83
$tables['scheduler']['unpublish_countdown'] = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 84
'title' => t('Unpublish countdown'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 85
'help' => t('Time until the article will be automatically unpublished'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 87
'handler' => 'scheduler_handler_field_scheduler_countdown',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 88
'click sortable' => FALSE,


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc st at line: 89
'timestamp_field' => 'unpublish_on',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 89
'timestamp_field' => 'unpublish_on',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 93
return $tables;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 97
* Implements hook_views_handlers().


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 99
function scheduler_views_handlers() {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 100
return array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 102
'scheduler_handler_field_scheduler_countdown' => array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc t at line: 103
'parent' => 'views_handler_field',


[*] End report for /var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.views.inc
=== 

/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 5
* Scheduler cron functions.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 7
* This file is included only when running a crontab job or executing the


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 8
* lightweight cron via the admin interface.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 14
* @return bool


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 15
*   TRUE if any node has been published, FALSE otherwise.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 17
function _scheduler_publish() {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 18
$result = FALSE;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 20
// If the time now is greater than the time to publish a node, publish it.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc st at line: 21
// The INNER join on 'node' and 'users' is just to ensure the nodes are valid.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 21
// The INNER join on 'node' and 'users' is just to ensure the nodes are valid.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 22
$query = db_select('scheduler', 's');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 26
$query->condition('s.publish_on', 0, '>');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 27
$query->condition('s.publish_on', REQUEST_TIME, '<=');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 28
$query_result = $query->execute();


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 30
while ($node = $query_result->fetchObject()) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 34
$action = 'publish';


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc st at line: 36
// Allow other modules to add to the list of nodes to be published.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 36
// Allow other modules to add to the list of nodes to be published.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc st at line: 37
$nids = array_unique(array_merge($nids, _scheduler_scheduler_nid_list($action)));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 37
$nids = array_unique(array_merge($nids, _scheduler_scheduler_nid_list($action)));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc st at line: 39
// Allow other modules to alter the list of nodes to be published.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 39
// Allow other modules to alter the list of nodes to be published.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc st at line: 40
drupal_alter('scheduler_nid_list', $nids, $action);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 40
drupal_alter('scheduler_nid_list', $nids, $action);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 45
// Check that other modules allow the action on this node.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 46
if (!_scheduler_allow($n, $action)) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 47
continue;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 50
// Invoke Scheduler API for modules to react before the node is published.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 51
// @todo For D8 move the 'pre' call to here.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 52
// See https://www.drupal.org/node/2311273


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc st at line: 54
// Update timestamps.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 54
// Update timestamps.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 56
$old_creation_date = $n->created;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 57
if (variable_get('scheduler_publish_touch_' . $n->type, 0) == 1) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 58
$n->created = $n->publish_on;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 61
$create_publishing_revision = variable_get('scheduler_publish_revision_' . $n->type, 0) == 1;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 62
if ($create_publishing_revision) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 64
// Use a core date format to guarantee a time is included.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 65
$n->log = t('Node published by Scheduler on @now. Previous creation date was @date.', array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 66
'@now' => format_date(REQUEST_TIME, 'short'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 67
'@date' => format_date($old_creation_date, 'short'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 70
// Unset publish_on so the node will not get rescheduled by subsequent calls


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 71
// to node_save(). Save the value for use when calling Rules.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 75
// Invoke scheduler API to allow modules to alter the node before it is


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 77
// @todo For D8, remove this from here.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 78
_scheduler_scheduler_api($n, 'pre_' . $action);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc st at line: 80
// Use the actions system to publish the node.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 80
// Use the actions system to publish the node.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 81
watchdog('scheduler', '@type: scheduled publishing of %title.', array('@type' => $n->type, '%title' => $n->title), WATCHDOG_NOTICE, l(t('view'), 'node/' . $n->nid, array('alias' => TRUE)));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 82
$actions = array('node_publish_action', 'node_save_action');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 83
$context['node'] = $n;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 84
actions_do($actions, $n, $context, NULL, NULL);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 86
// Invoke the event to tell Rules that Scheduler has published this node.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc st at line: 87
if (module_exists('rules')) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 87
if (module_exists('rules')) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 88
rules_invoke_event('scheduler_node_has_been_published_event', $n, $publish_on, $n->unpublish_on);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 91
// Invoke scheduler API for modules to react after the node is published.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 92
_scheduler_scheduler_api($n, $action);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 94
$result = TRUE;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 97
return $result;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 103
* @return bool


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 104
*   TRUE is any node has been unpublished, FALSE otherwise.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 106
function _scheduler_unpublish() {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 107
$result = FALSE;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 109
// If the time is greater than the time to unpublish a node, unpublish it.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc st at line: 110
// The INNER join on 'node' and 'users' is just to ensure the nodes are valid.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 110
// The INNER join on 'node' and 'users' is just to ensure the nodes are valid.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 111
$query = db_select('scheduler', 's');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 115
$query->condition('s.unpublish_on', 0, '>');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 116
$query->condition('s.unpublish_on', REQUEST_TIME, '<=');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 117
$query_result = $query->execute();


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 119
while ($node = $query_result->fetchObject()) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 123
$action = 'unpublish';


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc st at line: 125
// Allow other modules to add to the list of nodes to be unpublished.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 125
// Allow other modules to add to the list of nodes to be unpublished.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc st at line: 126
$nids = array_unique(array_merge($nids, _scheduler_scheduler_nid_list($action)));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 126
$nids = array_unique(array_merge($nids, _scheduler_scheduler_nid_list($action)));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc st at line: 128
// Allow other modules to alter the list of nodes to be unpublished.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 128
// Allow other modules to alter the list of nodes to be unpublished.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc st at line: 129
drupal_alter('scheduler_nid_list', $nids, $action);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 129
drupal_alter('scheduler_nid_list', $nids, $action);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 134
// Check that other modules allow the action on this node.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 135
if (!_scheduler_allow($n, $action)) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 136
continue;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc st at line: 139
// Do not process the node if it has a publish_on time which is in the past,


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 139
// Do not process the node if it has a publish_on time which is in the past,


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 140
// as this implies that scheduled publishing has been blocked by one of the


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 141
// API functions we provide. Hence unpublishing should be halted too.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 142
if (!empty($n->publish_on) && $n->publish_on <= REQUEST_TIME) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 143
continue;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 146
// Invoke scheduler API for modules to react before the node is unpublished.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 147
// @todo For D8, move the 'pre' call to here.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 148
// See https://www.drupal.org/node/2311273


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc st at line: 150
// Update timestamps.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 150
// Update timestamps.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 151
$old_change_date = $n->changed;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 154
$create_unpublishing_revision = variable_get('scheduler_unpublish_revision_' . $n->type, 0) == 1;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 155
if ($create_unpublishing_revision) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 157
// Use a core date format to guarantee a time is included.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 158
$n->log = t('Node unpublished by Scheduler on @now. Previous change date was @date.', array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 159
'@now' => format_date(REQUEST_TIME, 'short'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 160
'@date' => format_date($old_change_date, 'short'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 163
// Unset unpublish_on so the node will not get rescheduled by subsequent


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 164
// calls to node_save(). Save the value for use when calling Rules.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 168
// Invoke scheduler API to allow modules to alter the node before it is


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 170
// @todo For D8, remove this from here.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 171
_scheduler_scheduler_api($n, 'pre_' . $action);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc st at line: 173
// Use the actions system to unpublish the node.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 173
// Use the actions system to unpublish the node.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 174
watchdog('scheduler', '@type: scheduled unpublishing of %title.', array('@type' => $n->type, '%title' => $n->title), WATCHDOG_NOTICE, l(t('view'), 'node/' . $n->nid, array('alias' => TRUE)));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 175
$actions = array('node_unpublish_action', 'node_save_action');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 176
$context['node'] = $n;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 177
actions_do($actions, $n, $context, NULL, NULL);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 179
// Invoke event to tell Rules that Scheduler has unpublished this node.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc st at line: 180
if (module_exists('rules')) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 180
if (module_exists('rules')) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 181
rules_invoke_event('scheduler_node_has_been_unpublished_event', $n, $n->publish_on, $unpublish_on);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 184
// Invoke scheduler API for modules to react after the node is unpublished.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 187
$result = TRUE;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 190
return $result;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 194
* Gather node IDs for all nodes that need to be $action'ed.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc st at line: 196
* @param string $action


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 196
* @param string $action


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 197
*   The action being performed, either "publish" or "unpublish".


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 199
* @return array


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc st at line: 202
function _scheduler_scheduler_nid_list($action) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 202
function _scheduler_scheduler_nid_list($action) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc st at line: 205
foreach (module_implements('scheduler_nid_list') as $module) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 205
foreach (module_implements('scheduler_nid_list') as $module) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc st at line: 206
$function = $module . '_scheduler_nid_list';


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 206
$function = $module . '_scheduler_nid_list';


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 207
$nids = array_merge($nids, $function($action));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 210
return $nids;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 214
* Run the lightweight cron.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 216
* The Scheduler part of the processing performed here is the same as in the


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 217
* normal Drupal cron run. The difference is that only scheduler_cron() is


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 218
* executed, no other modules hook_cron() functions are called.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 220
* This function is called from the external crontab job via url /scheduler/cron


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 221
* or it can be run interactively from the Scheduler configuration page at


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 222
* /admin/config/content/scheduler/cron.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 224
function _scheduler_run_cron() {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 225
$log = variable_get('scheduler_lightweight_log', 1);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 227
watchdog('scheduler', 'Lightweight cron run activated', array(), WATCHDOG_NOTICE);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 230
if (ob_get_level() > 0) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc st at line: 231
$handlers = ob_list_handlers();


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 231
$handlers = ob_list_handlers();


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 232
if (isset($handlers[0]) && $handlers[0] == 'default output handler') {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 237
watchdog('scheduler', 'Lightweight cron run completed', array(), WATCHDOG_NOTICE, l(t('settings'), 'admin/config/content/scheduler/cron'));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 240
$menu_item = menu_get_item();


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 241
if ($menu_item['path'] == 'admin/config/content/scheduler/cron') {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 242
// This cron run has been initiated manually from the configuration form.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 243
// Give a message and return something so that an output page is created.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 244
// No output should be returned if running from a crontab job.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc st at line: 245
if (module_exists('dblog')) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 245
if (module_exists('dblog')) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 246
drupal_set_message(t('Lightweight cron run completed - see <a href="@url">log</a> for details.', array('@url' => url('admin/reports/dblog'))));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 249
drupal_set_message(t('Lightweight cron run completed.'));


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 251
return ' ';


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc st at line: 253
// drupal_exit() is the proper controlled way to terminate the request, as


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 253
// drupal_exit() is the proper controlled way to terminate the request, as


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 254
// this will invoke all implementations of hook_exit().


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc t at line: 255
drupal_exit();


[*] End report for /var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.cron.inc
=== 

/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install st at line: 5
* Installation file for Scheduler module.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 5
* Installation file for Scheduler module.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 9
* Implements hook_schema().


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 11
function scheduler_schema() {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 12
return array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 14
'description' => 'The main table to hold the scheduler data.',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 17
'description' => 'The foreign key to node.nid',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 18
'type' => 'int',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 20
'not null' => TRUE,


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install st at line: 23
'description' => 'The UNIX UTC timestamp when to publish',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 23
'description' => 'The UNIX UTC timestamp when to publish',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 24
'type' => 'int',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 26
'not null' => TRUE,


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 27
'default' => 0,


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install st at line: 30
'description' => 'The UNIX UTC timestamp when to unpublish',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 30
'description' => 'The UNIX UTC timestamp when to unpublish',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 31
'type' => 'int',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 33
'not null' => TRUE,


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 34
'default' => 0,


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install st at line: 47
* Implements hook_uninstall().


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 47
* Implements hook_uninstall().


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install st at line: 49
function scheduler_uninstall() {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 49
function scheduler_uninstall() {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 50
// Keep variables in alphabetic order for easier maintenance and patching.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 52
'scheduler_allow_date_only',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 54
'scheduler_date_format',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 55
'scheduler_date_only_format',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 56
'scheduler_default_time',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 57
'scheduler_extra_info',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 58
'scheduler_date_popup_minute_increment',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 59
'scheduler_field_type',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 60
'scheduler_lightweight_access_key',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 61
'scheduler_lightweight_log',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 62
'scheduler_time_only_format',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install get_t at line: 65
$types = node_type_get_types();


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 65
$types = node_type_get_types();


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 66
foreach ($types as $type) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 67
$type_name = $type->type;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 68
$variables[] = "scheduler_expand_fieldset_" . $type_name;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 69
$variables[] = "scheduler_publish_enable_" . $type_name;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 70
$variables[] = "scheduler_publish_touch_" . $type_name;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 71
$variables[] = "scheduler_publish_required_" . $type_name;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 72
$variables[] = "scheduler_publish_revision_" . $type_name;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install st at line: 73
$variables[] = "scheduler_publish_past_date_" . $type_name;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 73
$variables[] = "scheduler_publish_past_date_" . $type_name;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 74
$variables[] = "scheduler_unpublish_enable_" . $type_name;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 75
$variables[] = "scheduler_unpublish_required_" . $type_name;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 76
$variables[] = "scheduler_unpublish_revision_" . $type_name;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 77
$variables[] = "scheduler_use_vertical_tabs_" . $type_name;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install st at line: 86
* Implements hook_update_last_removed().


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 86
* Implements hook_update_last_removed().


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install st at line: 88
function scheduler_update_last_removed() {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 88
function scheduler_update_last_removed() {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 89
// The updates for Scheduler 6.x are no longer required in this file.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install st at line: 90
// This function shows that the last update was scheduler_update_6101.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 90
// This function shows that the last update was scheduler_update_6101.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 91
return 6101;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 95
* Update roles with new 'View Scheduled Content' permission.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 97
function scheduler_update_7100() {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install st at line: 98
// Retrieve all roles that have both the 'administer nodes' and 'schedule


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 98
// Retrieve all roles that have both the 'administer nodes' and 'schedule


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 100
// @see http://www.drupal.org/node/2355401


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 101
$query = db_select('role_permission', 'r');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install st at line: 103
$query->condition('r.permission', 'administer nodes', '=');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 103
$query->condition('r.permission', 'administer nodes', '=');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 105
$query->condition('r2.permission', 'schedule (un)publishing of nodes', '=');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 107
// Grant these roles the 'view scheduled content' permission.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 108
if ($roles_to_update = $query->execute()->fetchCol()) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 109
foreach ($roles_to_update as $rid ) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 110
// Use db_merge not db_insert in case the role already has the permission.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 114
'permission' => 'view scheduled content',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 119
'permission' => 'view scheduled content',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 122
$query->execute();


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 126
return format_plural(sizeof($roles_to_update), '1 role updated with view scheduled content permission.', '@count roles updated with view scheduled content permission.');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 130
* Delete obsolete Scheduler rows for nodes already unpublished.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 132
function scheduler_update_7101() {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 133
// Retrieve all unpublished nodes which have a row in the Scheduler with an


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install st at line: 134
// unpublish-on date in the past and no publish-on date.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 134
// unpublish-on date in the past and no publish-on date.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 135
// @see http://www.drupal.org/node/2355129


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 136
$query = db_select('scheduler', 's');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install st at line: 139
$query->condition('n.status', NODE_NOT_PUBLISHED, '=');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 139
$query->condition('n.status', NODE_NOT_PUBLISHED, '=');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 140
$query->condition('s.publish_on', 0, '=');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 141
$query->condition('s.unpublish_on', 0, '>');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 142
$query->condition('s.unpublish_on', REQUEST_TIME, '<');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 144
// Delete these rows from the Scheduler table.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 145
if ($nids_to_delete = $query->execute()->fetchCol()) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 146
db_delete('scheduler')->condition('nid', $nids_to_delete, 'IN')->execute();


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 148
return format_plural(sizeof($nids_to_delete), '1 obsolete row deleted from scheduler table.', '@count obsolete rows deleted from scheduler table.');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 152
* Function scheduler_update_7102() removed and replaced by 7103.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 153
* @see http://www.drupal.org/node/2706119


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 157
* Update role_permission table with clean machine name.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 159
function scheduler_update_7103() {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 160
// Change all values of 'schedule (un)publishing of nodes' to the cleaner


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 162
// @see http://www.drupal.org/node/2538002


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install st at line: 164
// Updates done in two stages to avoid integrity constraint violation. First


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 164
// Updates done in two stages to avoid integrity constraint violation. First


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 165
// select all role ids which already have the new permission value.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 166
$query = db_select('role_permission', 'rp')


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 168
->condition('permission', 'schedule publishing of nodes');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 170
// Delete the rows for these roles which also have the old permission value,


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 171
// as these are no longer needed and should not be updated to the new value.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 172
$rows_deleted = 0;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 173
if ($rows_to_delete = $query->execute()->fetchCol()) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 174
$rows_deleted = db_delete('role_permission')


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 175
->condition('rid', $rows_to_delete, 'IN')


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 176
->condition('permission', 'schedule (un)publishing of nodes', '=')


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 177
->execute();


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install st at line: 180
// Now update any other rows which still have the old permission value.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 180
// Now update any other rows which still have the old permission value.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 181
$rows_updated = db_update('role_permission')


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 183
->condition('permission', 'schedule (un)publishing of nodes', '=')


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 184
->execute();


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 186
return format_plural($rows_updated, '1 row updated', '@count rows updated')


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 187
. ', ' . format_plural($rows_deleted, '1 row deleted', '@count rows deleted')


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install t at line: 188
. ' ' . t('in role_permission table');


[*] End report for /var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/scheduler.install
=== 

/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.install st at line: 5
* Install, uninstall, update and schema hooks for the Scheduler Test module.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.install t at line: 5
* Install, uninstall, update and schema hooks for the Scheduler Test module.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.install st at line: 9
* Implements hook_install().


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.install t at line: 9
* Implements hook_install().


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.install st at line: 11
function scheduler_test_install() {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.install t at line: 11
function scheduler_test_install() {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.install get_t at line: 12
$t = get_t();


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.install t at line: 12
$t = get_t();


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.install st at line: 14
// Ensure the scheduler_test node type is available.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.install t at line: 14
// Ensure the scheduler_test node type is available.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.install t at line: 15
node_types_rebuild();


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.install get_t at line: 16
$types = node_type_get_types();


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.install t at line: 16
$types = node_type_get_types();


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.install t at line: 18
// Attach a body field to the node type.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.install st at line: 19
node_add_body_field($types['scheduler_test']);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.install t at line: 19
node_add_body_field($types['scheduler_test']);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.install t at line: 21
// Create a field to attach to the node type.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.install st at line: 22
$field = field_info_field('field_scheduler_test_approved');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.install t at line: 22
$field = field_info_field('field_scheduler_test_approved');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.install t at line: 23
if (empty($field)) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.install st at line: 25
'field_name' => 'field_scheduler_test_approved',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.install t at line: 25
'field_name' => 'field_scheduler_test_approved',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.install st at line: 26
'type' => 'list_integer',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.install t at line: 26
'type' => 'list_integer',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.install t at line: 27
'entity_types' => array('node'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.install t at line: 28
'cardinality' => 2,


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.install t at line: 29
'settings' => array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.install t at line: 31
1 => $t('Approved for publication by the CEO'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.install t at line: 35
$field = field_create_field($field);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.install st at line: 38
$instance = field_info_instance('node', 'field_scheduler_test_approved', 'scheduler_test');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.install t at line: 38
$instance = field_info_instance('node', 'field_scheduler_test_approved', 'scheduler_test');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.install st at line: 39
if (empty($instance)) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.install t at line: 39
if (empty($instance)) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.install st at line: 40
$instance = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.install t at line: 40
$instance = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.install st at line: 41
'bundle' => 'scheduler_test',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.install t at line: 41
'bundle' => 'scheduler_test',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.install st at line: 43
'default' => array('type' => 'list_default'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.install t at line: 43
'default' => array('type' => 'list_default'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.install t at line: 44
'teaser' => array('type' => 'hidden'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.install t at line: 46
'entity_type' => 'node',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.install st at line: 47
'field_name' => 'field_scheduler_test_approved',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.install t at line: 47
'field_name' => 'field_scheduler_test_approved',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.install t at line: 49
'widget' => array('type' => 'options_buttons'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.install st at line: 51
field_create_instance($instance);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.install t at line: 51
field_create_instance($instance);


[*] End report for /var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.install
=== 

/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.module st at line: 5
* Main functions and hook implementations of the Scheduler Test module.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.module t at line: 5
* Main functions and hook implementations of the Scheduler Test module.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.module t at line: 9
* Implements hook_node_info().


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.module st at line: 11
function scheduler_test_node_info() {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.module t at line: 11
function scheduler_test_node_info() {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.module t at line: 12
$items = array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.module st at line: 13
'scheduler_test' => array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.module t at line: 13
'scheduler_test' => array(


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.module st at line: 14
'name' => t('Scheduler test'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.module t at line: 14
'name' => t('Scheduler test'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.module t at line: 15
'base' => 'node_content',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.module st at line: 16
'description' => t('This content type is used to test the Scheduler module.'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.module t at line: 16
'description' => t('This content type is used to test the Scheduler module.'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.module t at line: 17
'has_title' => '1',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.module t at line: 18
'title_label' => t('Title'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.module t at line: 21
return $items;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.module t at line: 25
* Implements hook_scheduler_allow_publishing().


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.module st at line: 27
function scheduler_test_scheduler_allow_publishing($node) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.module t at line: 27
function scheduler_test_scheduler_allow_publishing($node) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.module t at line: 28
// Only publish nodes that have the 'Approved for publication by the CEO'


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.module t at line: 29
// checkbox ticked.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.module st at line: 30
$items = field_get_items('node', $node, 'field_scheduler_test_approved');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.module t at line: 30
$items = field_get_items('node', $node, 'field_scheduler_test_approved');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.module t at line: 31
$allowed = !empty($items[0]['value']);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.module t at line: 33
// If publication is denied then inform the user why.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.module st at line: 35
drupal_set_message(t('The content will only be published after approval by the CEO.'), 'status', FALSE);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.module t at line: 35
drupal_set_message(t('The content will only be published after approval by the CEO.'), 'status', FALSE);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.module t at line: 38
return $allowed;


[*] End report for /var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/tests/scheduler_test.module
=== 

/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/plugins/content_types/scheduler_form_pane.inc t at line: 5
* Scheduling options for node forms.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/plugins/content_types/scheduler_form_pane.inc t at line: 7
* This content type contains the publish and unpublish scheduling date fields.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/plugins/content_types/scheduler_form_pane.inc t at line: 12
'edit form' => 'scheduler_form_pane_node_form_menu_content_type_edit_form',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/plugins/content_types/scheduler_form_pane.inc t at line: 13
'render callback' => 'scheduler_form_pane_content_type_render',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/plugins/content_types/scheduler_form_pane.inc t at line: 14
'title' => t('Node form scheduler'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/plugins/content_types/scheduler_form_pane.inc t at line: 15
'icon' => drupal_get_path('module', 'ctools') . '/plugins/content_types/node_form/icon_node_form.png',


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/plugins/content_types/scheduler_form_pane.inc t at line: 16
'description' => t('Scheduler date options on the Node form.'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/plugins/content_types/scheduler_form_pane.inc t at line: 17
'required context' => new ctools_context_required(t('Form'), 'node_form'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/plugins/content_types/scheduler_form_pane.inc t at line: 18
'category' => t('Form'),


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/plugins/content_types/scheduler_form_pane.inc t at line: 22
* Content type render callback.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/plugins/content_types/scheduler_form_pane.inc t at line: 24
function scheduler_form_pane_content_type_render($subtype, $conf, $panel_args, &$context) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/plugins/content_types/scheduler_form_pane.inc st at line: 25
$block = new stdClass();


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/plugins/content_types/scheduler_form_pane.inc t at line: 25
$block = new stdClass();


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/plugins/content_types/scheduler_form_pane.inc t at line: 27
$block->title = t('Scheduler options');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/plugins/content_types/scheduler_form_pane.inc t at line: 28
$block->delta = 'scheduler-options';


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/plugins/content_types/scheduler_form_pane.inc t at line: 30
if (isset($context->form)) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/plugins/content_types/scheduler_form_pane.inc t at line: 31
if (isset($context->form['scheduler_settings'])) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/plugins/content_types/scheduler_form_pane.inc t at line: 32
// Lift the form elements from the original form and make sure it renders.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/plugins/content_types/scheduler_form_pane.inc t at line: 33
$block->content['scheduler_settings'] = $context->form['scheduler_settings'];


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/plugins/content_types/scheduler_form_pane.inc t at line: 34
unset($block->content['scheduler_settings']['#pre_render']);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/plugins/content_types/scheduler_form_pane.inc t at line: 35
unset($block->content['scheduler_settings']['#theme_wrappers']);


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/plugins/content_types/scheduler_form_pane.inc t at line: 36
$block->content['scheduler_settings']['#type'] = '';


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/plugins/content_types/scheduler_form_pane.inc t at line: 38
// Deny access on the original form element rather than removing so that


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/plugins/content_types/scheduler_form_pane.inc t at line: 39
// vertical tabs doesn't clone it. I think this is due to references.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/plugins/content_types/scheduler_form_pane.inc t at line: 40
$context->form['scheduler_settings']['#access'] = FALSE;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/plugins/content_types/scheduler_form_pane.inc t at line: 44
// Display placeholder information.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/plugins/content_types/scheduler_form_pane.inc t at line: 45
$block->content = t('Scheduler options');


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/plugins/content_types/scheduler_form_pane.inc t at line: 47
return $block;


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/plugins/content_types/scheduler_form_pane.inc t at line: 51
* Content type form callback.


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/plugins/content_types/scheduler_form_pane.inc st at line: 53
function scheduler_form_pane_node_form_menu_content_type_edit_form($form, &$form_state) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/plugins/content_types/scheduler_form_pane.inc t at line: 53
function scheduler_form_pane_node_form_menu_content_type_edit_form($form, &$form_state) {


/var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/plugins/content_types/scheduler_form_pane.inc t at line: 54
return $form;


[*] End report for /var/www/html/drupal-7.50/sites/all/modules/contrib/scheduler/plugins/content_types/scheduler_form_pane.inc
=== 

